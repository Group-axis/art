webpackJsonp([2],{1157:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(19,function(i){if(e)t(n(1140)[e]);else{var o=n(1140);t(o.__esModule?o.default:o)}})})}},919:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(16,function(i){if(e)t(n(1141)[e]);else{var o=n(1141);t(o.__esModule?o.default:o)}})})}},920:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(15,function(i){if(e)t(n(1142)[e]);else{var o=n(1142);t(o.__esModule?o.default:o)}})})}},1158:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(26,function(i){if(e)t(n(1143)[e]);else{var o=n(1143);t(o.__esModule?o.default:o)}})})}},1147:function(e,t,n){"use strict";var i=n(30),o=n(58),r=function(){function AMHRouting(){}return AMHRouting.prototype.ngOnInit=function(){},AMHRouting.prototype.asyncDataWithWebpack=function(){},AMHRouting=__decorate([i.Component({selector:"amh-routing",directives:[o.ROUTER_DIRECTIVES],template:"\n    <router-outlet></router-outlet>\n  "}),o.RouteConfig([{path:"/",name:"AMHHome",loader:function(){return n(1158)("AMHHome")},useAsDefault:!0},{path:"/assignment-list",name:"AMHAssignmentList",loader:function(){return n(1157)("AMHAssignmentList")}},{path:"/assignment/create",name:"AMHAssignmentCreate",loader:function(){return n(919)("AMHAssignmentComponent")}},{path:"/assignment/edit",name:"AMHAssignmentEdit",loader:function(){return n(919)("AMHAssignmentComponent")}},{path:"/rule/create",name:"AMHRuleCreate",loader:function(){return n(921)("AMHRuleComponent")}},{path:"/rule/:code/edit",name:"AMHRuleEdit",loader:function(){return n(921)("AMHRuleComponent")}},{path:"/export",name:"AMHExport",loader:function(){return n(920)("AMHExportImportComponent")}},{path:"/import",name:"AMHImport",loader:function(){return n(920)("AMHExportImportComponent")}},{path:"/simulation",name:"AMHSimulation",loader:function(){return n(1160)("AMHSimulatorComponent")}},{path:"/rule-overview",name:"AMHRuleOverview",loader:function(){return n(1159)("AMHRuleOverviewComponent")}}]),__metadata("design:paramtypes",[])],AMHRouting)}();t.AMHRouting=r},901:function(e,t,n){"use strict";var i=n(257),o=n(30),r=n(14),s=n(880),a=n(927),u=n(1136),c=n(38),d=n(541),p=function(){function AMHRoutingService(e,t,n){this.http=e,this.config=t,this.logger=n,this.query=' \n    {\n  "query": {\n    "bool": {\n      "should": [\n        {\n          "match": {\n            "name": {\n              "query": "##TO_REPLACE##",\n              "analyzer": "id_analyzer",\n              "operator": "and"\n            }\n          }\n        }\n      ]\n    }\n  },\n  "from": 0,\n  "size": 1000,\n  "sort": [\n    {\n      "name": {\n        "order": "asc"\n      }\n    }\n  ]\n}\n  ',this.criterias=[new u.TreeNode("transaction","Transaction","Transaction",[new u.TreeNode("transactiondirection","direction","Direction"),new u.TreeNode("transactionreceiveraddress","receiverAddress","Receiver Address"),new u.TreeNode("transactionmessagetype","messageType/code","Message Type"),new u.TreeNode("transactionswiftparameters","SwiftParameters","Swift Parameters",[new u.TreeNode("swiftparametersrequestreference","swiftParameters/requestReference","Request Reference"),new u.TreeNode("swiftparametersservice","swiftParameters/service","Service")]),new u.TreeNode("transactionsenderaddress","senderAddress","Sender Address"),new u.TreeNode("transactionfinparameterslabel","FINParameters/messageType","FIN Parameters"),new u.TreeNode("transactionnetworkprotocollabel","networkProtocol","Network Protocol")])],this.logger.log(" retrieving config"),this.logger.log("simulationBackUrl value: "+t.get("simulationBackUrl"))}return AMHRoutingService.prototype.findMessageByNameQuery=function(e){return"{"+c.Elastic4js.query(c.Elastic4js.bool([c.Elastic4js.should([c.Elastic4js.match("name",e)])]))+"}"},AMHRoutingService.prototype.findMessagesByGroupQuery=function(e){return"{"+c.Elastic4js.query(c.Elastic4js.bool([c.Elastic4js.should(e.map(function(e){return c.Elastic4js.match("group",e)}))]))+"}"},AMHRoutingService.prototype.findAssignmentByID=function(e){return this.http.get("/products/${productID}").map(function(e){return e.json()})},AMHRoutingService.prototype.findAssignments=function(){return this.http.post(this.config.get("esBackUrl")+"/amhrouting/assignments/_search?size=1000",'{"sort": [{"sequence": {"order": "asc"}}]}').map(function(e){return e.json()})},AMHRoutingService.prototype.findRuleByCode=function(e){var t=this;this.logger.log(">> looking for "+e);new s.AMHRule("","");return this.findRules().flatMap(function(n){var i=AMHRoutingService.getFromSource(n).find(function(t){return t.code.toLowerCase()==(e?e.toLocaleLowerCase():"")});return t.logger.log(">> elastic return  "+i),i?r.Observable.create(function(e){return e.next(i),e.complete(),function(){return t.logger.log("disposed found")}}):r.Observable.create(function(e){return e.next(new s.AMHRule("","")),t.logger.log("returning to observer code=empty"),e.complete(),function(){return t.logger.log("disposed not found")}})})},AMHRoutingService.prototype.findRules=function(){return this.http.get(this.config.get("esBackUrl")+"/amhrouting/rules/_search?size=1000").map(function(e){return e.json()})},AMHRoutingService.prototype.findMessages=function(){return this.http.get(this.config.get("esBackUrl")+"/messages/amh/_search?size=1000").map(function(e){return e.json()}).flatMap(this.toHits)},AMHRoutingService.prototype.findGroupMessages=function(){return this.http.get(this.config.get("esBackUrl")+"/messages/group/_search?size=100000").map(function(e){return e.json()}).flatMap(this.toHits)},AMHRoutingService.prototype.findMessage=function(e){return this.http.get(this.config.get("esBackUrl")+"/messages/amh/"+e).map(function(e){return e.json()}).map(function(e){return e._source})},AMHRoutingService.prototype.replacerFor=function(e){var t=function(t,n){return e.forEach(function(e){n&&n[e]&&n[e]instanceof Array&&(n[e]=n[e][0])}),n};return t},AMHRoutingService.prototype.saveMessage=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({headers:o}),s=JSON.stringify(e.toWriteModel(t.username),this.replacerFor(["userId"]));return this.logger.log(" save message  sent: "+s),this.http.put(this.config.get("simulationBackUrl")+"/messages/amh/"+e.id,s,r).map(function(e){n.logger.log(" from message save "+e.json()),e.json()})},AMHRoutingService.prototype.createMessage=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json"}),r=new i.RequestOptions({headers:o}),s=JSON.stringify(e.toWriteModel(t.username),this.replacerFor(["userId"]));return this.logger.log(" create message sent: "+s),this.http.post(this.config.get("simulationBackUrl")+"/messages/amh",s,r).map(function(e){n.logger.log(" from message create "+e.json()),e.json()})},AMHRoutingService.prototype.deleteMessages=function(e,t,n){var o=this,r=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now(),groupId:n,ids:e.join(";")}),s=new i.RequestOptions({headers:r});return this.http.delete(this.config.get("simulationBackUrl")+"/messages/amh",s).map(function(e){o.logger.log(" from message delete "+e.json()),e.json()})},AMHRoutingService.prototype.findMessageMatches=function(e){return this.findMessageMatchesJson(e).flatMap(this.toHits).reduce(function(e,t){return e.push(t),e},new Array)},AMHRoutingService.prototype.findMessageByName=function(e){var t=this.findMessageByNameQuery(e);return this.http.post(this.config.get("esBackUrl")+"/messages/amh/_search",t).map(function(e){return e.json()}).flatMap(this.toFoundHits).map(function(t){if(t.found){var n=t.hits.find(function(t){return t.name.toLowerCase()==e.toLowerCase()});if(n)return{found:!0,message:n}}return{found:!1}})},AMHRoutingService.prototype.loadFlatGroupMessages=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t="messages/group"),0==e.length)return r.Observable.from([{found:!1}]);var n=this.findMessagesByGroupQuery(e);return this.http.post(this.config.get("esBackUrl")+"/"+t+"/_search?size=200000",n).map(function(e){return e.json()}).flatMap(this.toFoundHits).map(function(e){return e.found?{found:!0,messages:e.hits}:{found:!1}})},AMHRoutingService.prototype.loadGroupMessages=function(e,t){void 0===e&&(e=[]),void 0===t&&(t="messages/group");var n=e.length>0?this.findMessagesByGroupQuery(e):"{}";return this.http.post(this.config.get("esBackUrl")+"/"+t+"/_search?size=200000",n).map(function(e){return e.json()}).flatMap(this.toFoundHits).map(function(e){if(e.found){var t=e.hits.reduce(function(e,t){return void 0==e.get(t.group)?e=e.set(t.group,[t]):e.get(t.group).push(t),e},new Map);return{found:!0,messages:t}}return{found:!1}})},AMHRoutingService.prototype.toFoundHits=function(e){var t=e.hits.total;if(t>0){var n=e.hits.hits.map(function(e){return e._source});return r.Observable.from([{found:!0,hits:n}])}return r.Observable.from([{found:!1,hits:[]}])},AMHRoutingService.prototype.findMessageMatchesJson=function(e){if(e&&e.length>1){var t=this.query.replace(/##TO_REPLACE##/g,e);return this.http.post(this.config.get("esBackUrl")+"/messages/amh/_search?size=1000",t).map(function(e){return e.json()})}return this.http.post(this.config.get("esBackUrl")+"/messages/amh/_search?size=100",'{"sort": [{"name": {"order": "asc"}}]}').map(function(e){return e.json()})},AMHRoutingService.prototype.findJobs=function(e,t,n,o){var r=new i.Headers({"Content-Type":"application/json",userId:e.username,time:Date.now(),job_status:o,job_threshold:n,job_launcher:t}),s=new i.RequestOptions({headers:r});return this.http.get(this.config.get("simulationBackUrl")+"/jobs/amh/users/"+e.username,s).map(function(e){return e.json()}).flatMap(function(e){var t=e.jobs.map(function(e){var t=a.SimulationJob.fromJson(e);return t});return t})},AMHRoutingService.prototype.createJob=function(e,t){var n=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),o=new i.RequestOptions({headers:n}),r=JSON.stringify(e.toWriteModel(),this.replacerFor(["user"]));return this.http.post(this.config.get("simulationBackUrl")+"/jobs/amh",r,o).map(function(e){return e.json()})},AMHRoutingService.prototype.cancelJob=function(e,t){var n=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),o=new i.RequestOptions({headers:n});return this.http.delete(this.config.get("simulationBackUrl")+"/jobs/amh/"+e,o).map(function(e){return e.json()})},AMHRoutingService.prototype.reExecuteJob=function(e,t){var n=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),o=new i.RequestOptions({headers:n}),r=JSON.stringify({});return this.http.put(this.config.get("simulationBackUrl")+"/jobs/amh/"+e,r,o).map(function(e){return e.json()})},AMHRoutingService.prototype.exportJobResults=function(e,t){var n=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),o=new i.RequestOptions({headers:n}),r=JSON.stringify({});return this.http.post(this.config.get("simulationBackUrl")+"/jobs/amh/export/"+e,r,o).map(function(e){return e.json()})},AMHRoutingService.prototype.loadAMHRuleGrammar=function(e){return this.http.get(this.config.get("simulationBackUrl")+"/jobs/amh/export/"+e).map(function(e){return e.text()}).map(function(e){var t="function"==typeof d.pegjs.generate?"generate":"buildParser";try{return d.pegjs[t](e)}catch(e){console.error(e.message)}})},AMHRoutingService.prototype.exportSimulationResults=function(e,t){var n=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),o=new i.RequestOptions({headers:n}),r=e.map(function(e){return e.toWriteModel()}),s=JSON.stringify(r);return this.http.post(this.config.get("simulationBackUrl")+"/jobs/amh/export",s,o).map(function(e){return e.json()})},AMHRoutingService.prototype.toHits=function(e){return r.Observable.from(e.hits.hits).map(function(e){return e._source})},AMHRoutingService.prototype.findBackends=function(){return this.logger.log("findBackends url = "+this.config.get("esBackUrl")),this.http.get(this.config.get("esBackUrl")+"/amhrouting/backends/_search?size=1000").map(function(e){return e.json()})},AMHRoutingService.prototype.findAssignmentsBySequence=function(e){var t=this;return this.findAssignments().flatMap(function(n){var i=AMHRoutingService.getFromSource(n),o=[],s=i.find(function(t){return t.sequence==e});return s&&o.push(s),t.logger.log("assignmentBySequence "+o),r.Observable.from(o)})},AMHRoutingService.prototype.findAssignmentsByCode=function(e){var t=this;return this.findAssignments().flatMap(function(n){var i=AMHRoutingService.getFromSource(n),o=[],s=i.find(function(t){return t.code==e});return s&&o.push(s),t.logger.log("assignmentByCode "+o),r.Observable.from(o)})},AMHRoutingService.prototype.findAssignmentsByBackendPK=function(e){var t=this;return this.findAssignments().flatMap(function(n){for(var i=AMHRoutingService.getFromSource(n),o=[],s=0;s<i.length;s++){var a=i[s];if(a.backendPrimaryKey.code===e.code&&a.backendPrimaryKey.direction===e.direction){o.push(a);break}}return t.logger.log("[flatMap] returning "+o),r.Observable.from(o)})},AMHRoutingService.prototype.findAllCriterias=function(){return this.logger.log("returning findAllCriterias..."),this.http.get(this.config.get("esBackUrl")+"/amhreference/criteria/_search?size=1000").map(function(e){return e.json()}).flatMap(this.toHits).map(function(e){return u.TreeNode.fromJson(e)})},AMHRoutingService.prototype.saveRule=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),r=new i.RequestOptions({headers:o}),s=JSON.stringify(e.addAuditValue(t.username,String(Date.now())).toWriteModel());return this.logger.log(" save rule sent: "+s),this.http.put(this.config.get("backUrl")+"/amhrouting/rules/"+e.code,s,r).map(function(e){n.logger.log(" from save "+e.json()),e.json()})},AMHRoutingService.prototype.createRule=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),r=new i.RequestOptions({headers:o}),s=JSON.stringify(e.addAuditValue(t.username,String(Date.now()),t.username,String(Date.now())).toWriteModel());return this.logger.log(" create rule sent: "+s),this.http.post(this.config.get("backUrl")+"/amhrouting/rules/"+e.code,s,r).map(function(e){n.logger.log(" from create "+e.json()),e.json()})},AMHRoutingService.prototype.saveAssignment=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),r=new i.RequestOptions({headers:o}),s=this.assignToWriteModel(e,t.username,String(Date.now()));return this.logger.log(" save assignment sent: "+s),this.http.put(this.config.get("backUrl")+"/amhrouting/assignments/"+e.code,s,r).map(function(e){n.logger.log(" from save "+e.json()),e.json()})},AMHRoutingService.prototype.createAssignment=function(e,t){var n=this,o=new i.Headers({"Content-Type":"application/json",userId:t.username,time:Date.now()}),r=new i.RequestOptions({headers:o}),s=this.assignToWriteModel(e,t.username,String(Date.now()),t.username,String(Date.now()));return this.logger.log(" create assignment sent: "+s),this.http.post(this.config.get("backUrl")+"/amhrouting/assignments/"+e.code,s,r).map(function(e){return n.logger.log(" from create "+e.json()),e.json()})},AMHRoutingService.prototype.export=function(e,t,n,o){var r=this,s=new i.Headers({"Content-Type":"application/json"}),a=new i.RequestOptions({headers:s}),u=JSON.stringify({filePath:"useless",fileName:n,env:e,version:t,time:String(Date.now()),userId:o.username},this.replacerFor(["userId"]));return this.logger.log(" export sent: "+u),this.http.post(this.config.get("backUrl")+"/amhrouting/export",u,a).map(function(e){return r.logger.log(" from export "+e.json().response),e.json()})},AMHRoutingService.prototype.getExportedFile=function(e){return this.http.get(this.config.get("backUrl")+"/amhrouting/export/"+e).map(function(e){return e.json()})},AMHRoutingService.prototype.import=function(e){var t=this,n=new i.Headers({"Content-Type":"application/json"}),o=new i.RequestOptions({headers:n}),r=JSON.stringify({filePath:e});return this.logger.log(" import sent: "+r),this.http.post(this.config.get("backUrl")+"/amhrouting/import",r,o).map(function(e){return t.logger.log(" from import "+e.json()),e.json()})},AMHRoutingService.prototype.assignToWriteModel=function(e,t,n,i,o){var r=this,s={sequence:e.sequence,backCode:e.backendPrimaryKey.code,backDirection:e.backendPrimaryKey.direction,active:String(e.active),dataOwner:e.dataOwner,lockCode:e.lockCode,description:e.description,modificationUserId:t,modificationDate:n,creationUserId:i,creationDate:o,rules:[]},a=e.rules||[];return a.forEach(function(t){var n=r.assigRuleToModel(e.code,t);s.rules.push(n)}),JSON.stringify(s)},AMHRoutingService.prototype.assigRuleToModel=function(e,t){return this.logger.log("assigRuleToModel with code "+e+" assignmentRule.sequence "+t.sequence+" assignmentRule.code "+t.code+" assignmentRule.dataOwner "+t.dataOwner+" assignmentRule.lockCode "+t.lockCode),{code:e,sequence:t.sequence,ruleCode:t.code,dataOwner:t.dataOwner,lockCode:t.lockCode}},AMHRoutingService.getFromSource=function(e){var t=e.hits.hits,n=t.map(function(e){return e._source});return n},AMHRoutingService=__decorate([o.Injectable(),__metadata("design:paramtypes",[i.Http,c.Config,c.Logger])],AMHRoutingService)}();t.AMHRoutingService=p},1159:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(17,function(i){if(e)t(n(1144)[e]);else{var o=n(1144);t(o.__esModule?o.default:o)}})})}},921:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(14,function(i){if(e)t(n(1145)[e]);else{var o=n(1145);t(o.__esModule?o.default:o)}})})}},1160:function(e,t,n){e.exports=function(e){return new Promise(function(t){n.e(11,function(i){if(e)t(n(1146)[e]);else{var o=n(1146);t(o.__esModule?o.default:o)}})})}},529:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(1147)),__export(n(901))},1136:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(1152)),__export(n(917)),__export(n(918))},917:function(e,t){"use strict";var n=function(){function TreeNode(e,t,n,i){this.leaf=!1,this.expanded=!0,this.code=t,this.searchCode=e,this.description=n,this.children=i,this.leaf=void 0==this.children||0==this.children.length}return TreeNode.prototype.toggle=function(){this.expanded=!this.expanded},TreeNode.prototype.clone=function(){var e=void 0;return this.children&&this.children.length>0?(e=this.children.map(function(e){return e.clone()}),new TreeNode(this.searchCode,this.code,this.description,e)):new TreeNode(this.searchCode,this.code,this.description)},TreeNode.cloneTree=function(e){return e.map(function(e){return e.clone()})},TreeNode.fromJson=function(e){return new TreeNode(e.searchCode,e.code,e.description,e.children.map(function(e){return TreeNode.fromJson(e)}))},TreeNode}();t.TreeNode=n},1152:function(e,t,n){"use strict";var i=n(1),o=n(8),r=n(917),s=n(918),a=n(79),u=n(38),c=function(){function TreeView(e,t){this.treeSelectionService=e,this.logger=t,this.buy=new i.EventEmitter,this.selectedNode=new r.TreeNode("","","")}return TreeView.prototype.nodeSelected=function(e){this.buy.emit(e.code),this.selectedNode=e,this.treeSelectionService.selectionDone(this.selectedNode.code),this.logger.log("nodeSelection emitted "+this.selectedNode.code)},TreeView.prototype.selectedCode=function(){return this.logger.log("treeView::selectedCode called, returning : "+this.selectedNode.code),this.selectedNode.code},TreeView.prototype.writeNodeValue=function(e){this.logger.log("writeNodeValue "+e)},__decorate([i.Input(),__metadata("design:type",Array)],TreeView.prototype,"nodes",void 0),TreeView=__decorate([i.Component({selector:"tree-view",template:n(1163),directives:[TreeView,o.NgClass],events:["buy"]}),__metadata("design:paramtypes",[s.TreeSelectionService,u.Logger])],TreeView)}();t.TreeView=c;var d=new i.Provider(o.NG_VALUE_ACCESSOR,{useExisting:a.forwardRef(function(){return p}),multi:!0}),p=function(){function TreeViewAccessor(e,t){this.host=e,this.logger=t,this.onChange=function(e){},this.onTouched=function(){}}return TreeViewAccessor.prototype.writeValue=function(e){this.logger.log("writing..."),this.host.writeNodeValue(e)},TreeViewAccessor.prototype.registerOnChange=function(e){this.onChange=e},TreeViewAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},TreeViewAccessor=__decorate([i.Directive({selector:"tree-view",host:{"(buy)":"onChange($event)"},providers:[d]}),__metadata("design:paramtypes",[c,u.Logger])],TreeViewAccessor)}();t.TreeViewAccessor=p},1163:function(e,t){e.exports='    <!--[checked]="node.checked" (click)="node.check()"-->\r\n<ul>\r\n  <li *ngFor="let node of nodes">\r\n    <span *ngIf="!node.leaf" ><i class="fa" [ngClass] = " { \'fa-caret-right\' : node.expanded , \'fa-caret-down\': !node.expanded} "></i></span>\r\n    <span *ngIf="node.leaf" ><input type="radio" name="toto" (click)="nodeSelected(node)"/></span>\r\n    <span (click)="node.toggle()">{{ node.description }}</span>\r\n    <div *ngIf="node.expanded">\r\n      <!--<ul>\r\n        <li *ngFor="let child of node.children">{{child.description}}</li>\r\n      </ul>-->\r\n      <tree-view [nodes]="node.children"></tree-view>\r\n    </div>\r\n  </li>\r\n</ul>'},918:function(e,t,n){"use strict";var i=n(30),o=n(38),r=function(){function TreeSelectionService(e){this.logger=e}return TreeSelectionService.prototype.selectionDone=function(e){this.logger.log("saving selection "+e),this.selection=e},TreeSelectionService.prototype.getSelection=function(){return this.logger.log("returning "+this.selection),this.selection},TreeSelectionService=__decorate([i.Injectable(),__metadata("design:paramtypes",[o.Logger])],TreeSelectionService)}();t.TreeSelectionService=r},1168:function(e,t,n){"use strict";var i=n(886),o=function(){function AssignmentConfig(e,t){this.type=e,this.maxBackendsAllowed=this.calculeMaxBackendsAllowed(e,t)}return AssignmentConfig.prototype.calculeMaxBackendsAllowed=function(e,t){if(t)return t;switch(e){case i.AssignType.BK_CHANNEL:return 1;case i.AssignType.DTN_COPY:case i.AssignType.FEED_DTN_COPY:return 1e3}},AssignmentConfig.prototype.isTypeDifferent=function(e){return e!=i.AssignType[this.type]},AssignmentConfig.prototype.typeAsString=function(){return i.AssignType[this.type]},AssignmentConfig.prototype.showExtraFields=function(){switch(this.type){case i.AssignType.BK_CHANNEL:return!1;case i.AssignType.DTN_COPY:case i.AssignType.FEED_DTN_COPY:return!0}},AssignmentConfig}();t.AssignmentConfig=o},1169:function(e,t){"use strict";var n=function(){function AssignmentList(e,t,n,i,o,r,s,a,u,c,d){this.active=e,this.code=t,this.backCode=n,this.backDirection=i,this.backName=o,this.backSequence=r,this.ruleCode=s,this.ruleExpressions=a,this.ruleSequence=u,this.environment=c,this.version=d}return AssignmentList}();t.AssignmentList=n},1170:function(e,t){"use strict";var n=function(){function AssignmentRule(e,t,n,i,o,r,s){this.code=e,this.dataOwner=t,this.lockCode=n,this.sequence=i,this.environment=o,this.version=r,this.expression=s}return AssignmentRule}();t.AssignmentRule=n},886:function(e,t){"use strict";!function(e){e[e.BK_CHANNEL=1]="BK_CHANNEL",e[e.DTN_COPY=2]="DTN_COPY",e[e.FEED_DTN_COPY=4]="FEED_DTN_COPY"}(t.AssignType||(t.AssignType={}));t.AssignType},1130:function(e,t,n){"use strict";var i=n(886),o=function(){function AssignmentUniqueBackend(e,t,n,i){this.code=e,this.direction=t,this.dataOwner=n,this.lockCode=i}return AssignmentUniqueBackend.prototype.toWriteModel=function(e,t,n,o,r,s,a,u){switch(e){case i.AssignType.DTN_COPY:case i.AssignType.FEED_DTN_COPY:return{code:t,backCode:this.code,backDirection:this.direction,dataOwner:this.dataOwner,lockCode:this.lockCode,environment:n,version:o,modificationUserId:r,modificationDate:s,creationUserId:a,creationDate:u};default:return{}}},AssignmentUniqueBackend.fromJson=function(e){return new AssignmentUniqueBackend(e.code,e.direction,e.dataOwner,e.lockCode)},AssignmentUniqueBackend}();t.AssignmentUniqueBackend=o},1131:function(e,t,n){"use strict";var i=n(886),o=function(){function AssignmentUniqueRule(e,t,n,i,o){this.code=e,this.dataOwner=t,this.lockCode=n,this.sequence=i,this.expression=o}return AssignmentUniqueRule.prototype.toWriteModel=function(e,t,n,o,r,s,a,u){switch(e){case i.AssignType.BK_CHANNEL:case i.AssignType.DTN_COPY:case i.AssignType.FEED_DTN_COPY:return{code:t,sequence:this.sequence,ruleCode:this.code,dataOwner:this.dataOwner,lockCode:this.lockCode,environment:n,version:o,modificationUserId:r,modificationDate:s,creationUserId:a,creationDate:u}}},AssignmentUniqueRule.fromJson=function(e){return new AssignmentUniqueRule(e.code,e.dataOwner,e.lockCode,e.sequence,e.expression)},AssignmentUniqueRule}();t.AssignmentUniqueRule=o},1171:function(e,t,n){"use strict";var i=n(1130),o=n(1131),r=n(886),s=function(){function AssignmentUnique(e,t,n,i,o,r,s,a,u,c,d,p,h){this.active=e,this.backendPrimaryKey=t,this.code=n,this.dataOwner=i,this.description=o,this.lockCode=r,this.sequence=s||void 0,this.copies=a||void 0,this.name=u,this.environment=c,this.version=d,this.rules=p||[],this.backends=h||[]}return AssignmentUnique.prototype.backendCodeList=function(){return this.backendPrimaryKey?[this.backendPrimaryKey.code]:this.backends.map(function(e){return e.code})},AssignmentUnique.prototype.toWriteModel=function(e,t,n,i,o,s,a){var u=this,c=this.rules||[];c=c.map(function(r){return r.toWriteModel(e,u.code,t,n,i,o,s,a)});var d=this.backends||[];d=d.map(function(r){return r.toWriteModel(e,u.code,t,n,i,o,s,a)});var p={sequence:this.sequence,active:String(this.active),dataOwner:this.dataOwner,lockCode:this.lockCode,description:this.description,environment:t,version:n,rules:c,modificationUserId:i,modificationDate:o,creationUserId:s,creationDate:a};switch(e){case r.AssignType.BK_CHANNEL:p.backCode=this.backendPrimaryKey.code,p.backDirection=this.backendPrimaryKey.direction;break;case r.AssignType.DTN_COPY:case r.AssignType.FEED_DTN_COPY:p.copies=this.copies,p.name=this.name,p.backends=d}return p},AssignmentUnique.fromJson=function(e){var t=e.rules||[],n=e.backends||[];return new AssignmentUnique(e.active,e.backendPrimaryKey,e.code,e.dataOwner,e.description,e.lockCode,e.sequence,e.copies,e.name,e.environment,e.version,t.map(function(e){return o.AssignmentUniqueRule.fromJson(e)}),n.map(function(e){return i.AssignmentUniqueBackend.fromJson(e)}))},AssignmentUnique}();t.AssignmentUnique=s},1172:function(e,t){"use strict";var n=function(){function Assignment(e,t,n,i,o,r,s,a,u,c){this.active=e,this.backendPrimaryKey=t,this.code=n,this.dataOwner=i,this.description=o,this.lockCode=r,this.sequence=s,this.environment=a,this.version=u,this.rules=c||[]}return Assignment}();t.Assignment=n},1173:function(e,t){"use strict";var n=function(){function BackendPK(e,t){this.code=e,this.direction=t}return BackendPK.hashPK=function(e){return e.code.toString()+"@"+e.direction.toString()},BackendPK.hash=function(e,t){return e.toString()+"@"+t.toString()},BackendPK}();t.BackendPK=n},1174:function(e,t){"use strict";var n=function(){function Backend(e,t,n,i,o,r,s){this.pkCode=e,this.pkDirection=t,this.code=n,this.dataOwner=i,this.description=o,this.lockCode=r,this.name=s}return Backend}();t.Backend=n},880:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(1170)),__export(n(1172)),__export(n(1169)),__export(n(1173)),__export(n(1174)),__export(n(1176)),__export(n(1171)),__export(n(1131)),__export(n(1130)),__export(n(886)),__export(n(1168)),__export(n(1175))},1175:function(e,t){"use strict";!function(e){e[e.ALL=1]="ALL",e[e.ASSIGNED=2]="ASSIGNED",e[e.UNASSIGNED=4]="UNASSIGNED"}(t.RuleAssignType||(t.RuleAssignType={}));t.RuleAssignType},1176:function(e,t,n){"use strict";var i=n(542),o=function(e){function AMHRule(t,n,i,o,r,s,a){e.call(this),this.selected=!1,this.code=t,this.dataOwner=i,this.expression=n,this.lockCode=o,this.type=r}return __extends(AMHRule,e),AMHRule.prototype.toWriteModel=function(){return{expression:this.expression,dataOwner:this.dataOwner,lockCode:this.lockCode,ruleType:this.type,environment:this.environment,version:this.version,modificationUserId:this.modificationUserId,modificationDate:this.modificationDate,creationUserId:this.creationUserId,creationDate:this.creationDate}},AMHRule.prototype.setEnvAndVersion=function(e,t){this.environment=e,this.version=t},AMHRule.prototype.cloneWithUpperCaseCode=function(){return new AMHRule(this.code.toUpperCase(),this.expression,this.dataOwner,this.lockCode,this.type,this.environment,this.version)},AMHRule.fromJson=function(e){return new AMHRule(e.code,e.expression,e.dataOwner,e.lockCode,e.type,e.environment,e.version)},AMHRule}(i.BaseAudit);t.AMHRule=o},927:function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(1155)),__export(n(1156)),__export(n(1154))},1154:function(e,t){"use strict";var n=function(){function SimulationJob(e,t,n,i,o,r,s,a,u,c,d,p,h){void 0===h&&(h=SimulationJob.AMH_SYSTEM_ID),this.id=e,this.user=t,this.creationDate=n,this.startDate=i,this.endDate=o,this.status=r,this.numOfMessages=s,this.fileName=a,this.comment=u,this.params=c,this.output=d,this.outputAsArray=p,this.jobLauncherSystem=h}return SimulationJob.fromJson=function(e){return new SimulationJob(e.id,e.user,e.creationDate,e.startDate,e.endDate,e.status,e.numOfMessages,e.fileName,e.comment,e.params,e.output,e.outputAsArray,e.jobLauncherSystem)},SimulationJob.prototype.toWriteModel=function(e){void 0===e&&(e=1);Array.isArray(this.user);return{user:this.user,status:this.status||e,numOfMessages:this.numOfMessages,jobLauncher:this.jobLauncherSystem,params:this.params}},SimulationJob.SAA_SYSTEM_ID=1,SimulationJob.AMH_SYSTEM_ID=2,SimulationJob}();t.SimulationJob=n},1155:function(e,t){"use strict";function getItem(e,t){return t.get(e)}var n=function(){function Message(e,t,n,i,o,r,s){this.id=e,this.name=t,this.content=n,this.group=i,this.groupCount=s,this.itemMap=o,this.messages=r}return Message.prototype.toWriteModel=function(e){return{userId:e,creationDate:new String(Date.now()),fileName:this.name,content:this.content,group:this.group}},Message}();t.Message=n,t.getItem=getItem},1156:function(e,t){"use strict";var n=function(){function SimulationResult(e,t,n,i,o,r,s,a,u){this.selectionSequence=e,this.selectionCode=t,this.ruleSequence=n,this.ruleName=i,this.ruleExpression=o,this.backendSequence=r,this.backendName=s,this.selectionType=a,this.messageReference=u}return SimulationResult.prototype.toWriteModel=function(){return{fileName:this.messageNameHit,selectionSequence:this.selectionSequence,selectionCode:this.selectionCode,ruleSequence:this.ruleSequence,ruleName:this.ruleName,ruleExpression:this.ruleExpression,backendSequences:"",backendNames:this.backendName,selectionType:this.selectionType,messageReference:this.messageReference}},SimulationResult.prototype.clone=function(){var e=new SimulationResult(this.selectionSequence,this.selectionCode,this.ruleSequence,this.ruleName,this.ruleExpression,this.backendSequence,this.backendName,this.selectionType,this.messageReference);return e.messageNameHit=this.messageNameHit,e.messageName=this.messageName,e.hit=this.hit,e.withError=this.withError,e.errorMsg=this.errorMsg,e},SimulationResult}();t.SimulationResult=n}});
//# sourceMappingURL=2.04e3ae8bbd9e09b2ea90.bundle.map