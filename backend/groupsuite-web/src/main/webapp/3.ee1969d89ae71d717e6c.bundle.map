{"version":3,"sources":["webpack:///3.ee1969d89ae71d717e6c.chunk.js","webpack:///./~/rxjs/add/operator/filter.js","webpack:///./~/rxjs/operator/filter.js","webpack:///./src/app/models/referential/index.ts?bc3f","webpack:///./src/app/models/referential/ui.model.ts?41dd","webpack:///./src/app/user-admin/index.ts","webpack:///./src/app/user-admin/user-admin.component.ts","webpack:///./src/app/user-admin/user-creation/index.ts?4316","webpack:///./src/app/user-admin/user-home/index.ts?5c73","webpack:///./src/app/user-admin/user-overview/index.ts?7f4f","webpack:///./src/app/user-admin/user.service.ts"],"names":["webpackJsonp","903","module","exports","__webpack_require__","Observable_1","filter_1","Observable","prototype","filter","905","predicate","thisArg","this","lift","FilterOperator","__extends","d","b","__","constructor","p","hasOwnProperty","Object","create","Subscriber_1","call","subscriber","source","_subscribe","FilterSubscriber","_super","destination","count","_next","value","result","err","error","next","Subscriber","888","__export","m","1153","updateFields","dest","orig","fields","forEach","f","ItemContainer","id","description","children","defineProperty","get","enumerable","configurable","addChild","child","push","ItemChild","IdCodeDescription","code","fromJson","json","data","JSON","parse","empty","mapToProperty","option","525","1137","core_1","router_1","UserAdmin","ngOnInit","__decorate","Component","selector","directives","ROUTER_DIRECTIVES","template","RouteConfig","path","name","loader","useAsDefault","__metadata","906","namespace","Promise","resolve","e","require","mod","__esModule","default","1138","1139","1135","http_1","referential_1","services_1","UserService","http","config","logger","query","userQuery","queryAll","findUserByUsername","username","_this","debug","payload","replace","post","map","res","flatMap","toFields","user","length","stringify","found","findUserMatches","text","findUserMatchesJson","findProfiles","toSearchResult","total","hitArray","hits","s","_source","findAllProfiles","from","profile","match","userNotFound","hit","active","replacerFor","replacer","key","field","Array","saveUser","headers","Headers","append","getPermissions","profiles","permissions","doc","firstName","lastName","email","log","createUser","password","oldPassword","newPassword","updateUserAudit","originalUser","time","Date","now","oldUserEntity","toAuditModel","oldUserProfiles","toAuditProfiles","newUserEntity","newUserProfiles","put","createUserAudit","indexOf","reduce","acc","R","toString","resetPassword","updatedUser","toUpdateModel","Injectable","Http","Config","Logger"],"mappings":"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","file":"3.ee1969d89ae71d717e6c.chunk.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 903:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar Observable_1 = __webpack_require__(14);\n\tvar filter_1 = __webpack_require__(905);\n\tObservable_1.Observable.prototype.filter = filter_1.filter;\n\t//# sourceMappingURL=filter.js.map\n\n/***/ },\n\n/***/ 905:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subscriber_1 = __webpack_require__(70);\n\t/**\n\t * Filter items emitted by the source Observable by only emitting those that\n\t * satisfy a specified predicate.\n\t *\n\t * <span class=\"informal\">Like\n\t * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n\t * it only emits a value from the source if it passes a criterion function.</span>\n\t *\n\t * <img src=\"./img/filter.png\" width=\"100%\">\n\t *\n\t * Similar to the well-known `Array.prototype.filter` method, this operator\n\t * takes values from the source Observable, passes them through a `predicate`\n\t * function and only emits those values that yielded `true`.\n\t *\n\t * @example <caption>Emit only click events whose target was a DIV element</caption>\n\t * var clicks = Rx.Observable.fromEvent(document, 'click');\n\t * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n\t * clicksOnDivs.subscribe(x => console.log(x));\n\t *\n\t * @see {@link distinct}\n\t * @see {@link distinctKey}\n\t * @see {@link distinctUntilChanged}\n\t * @see {@link distinctUntilKeyChanged}\n\t * @see {@link ignoreElements}\n\t * @see {@link partition}\n\t * @see {@link skip}\n\t *\n\t * @param {function(value: T, index: number): boolean} predicate A function that\n\t * evaluates each value emitted by the source Observable. If it returns `true`,\n\t * the value is emitted, if `false` the value is not passed to the output\n\t * Observable. The `index` parameter is the number `i` for the i-th source\n\t * emission that has happened since the subscription, starting from the number\n\t * `0`.\n\t * @param {any} [thisArg] An optional argument to determine the value of `this`\n\t * in the `predicate` function.\n\t * @return {Observable} An Observable of values from the source that were\n\t * allowed by the `predicate` function.\n\t * @method filter\n\t * @owner Observable\n\t */\n\tfunction filter(predicate, thisArg) {\n\t    return this.lift(new FilterOperator(predicate, thisArg));\n\t}\n\texports.filter = filter;\n\tvar FilterOperator = (function () {\n\t    function FilterOperator(predicate, thisArg) {\n\t        this.predicate = predicate;\n\t        this.thisArg = thisArg;\n\t    }\n\t    FilterOperator.prototype.call = function (subscriber, source) {\n\t        return source._subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n\t    };\n\t    return FilterOperator;\n\t}());\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar FilterSubscriber = (function (_super) {\n\t    __extends(FilterSubscriber, _super);\n\t    function FilterSubscriber(destination, predicate, thisArg) {\n\t        _super.call(this, destination);\n\t        this.predicate = predicate;\n\t        this.thisArg = thisArg;\n\t        this.count = 0;\n\t        this.predicate = predicate;\n\t    }\n\t    // the try catch block below is left specifically for\n\t    // optimization and perf reasons. a tryCatcher is not necessary here.\n\t    FilterSubscriber.prototype._next = function (value) {\n\t        var result;\n\t        try {\n\t            result = this.predicate.call(this.thisArg, value, this.count++);\n\t        }\n\t        catch (err) {\n\t            this.destination.error(err);\n\t            return;\n\t        }\n\t        if (result) {\n\t            this.destination.next(value);\n\t        }\n\t    };\n\t    return FilterSubscriber;\n\t}(Subscriber_1.Subscriber));\n\t//# sourceMappingURL=filter.js.map\n\n/***/ },\n\n/***/ 888:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(1153));\r\n\n\n/***/ },\n\n/***/ 1153:\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar ItemContainer = (function () {\r\n\t    function ItemContainer(id, description) {\r\n\t        this.id = id;\r\n\t        this.description = description;\r\n\t        this.children = [];\r\n\t    }\r\n\t    Object.defineProperty(ItemContainer.prototype, \"htmlText\", {\r\n\t        get: function () { return this.description; },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    ItemContainer.prototype.addChild = function (child) {\r\n\t        this.children.push(child);\r\n\t    };\r\n\t    return ItemContainer;\r\n\t}());\r\n\texports.ItemContainer = ItemContainer;\r\n\tvar ItemChild = (function () {\r\n\t    function ItemChild(id, description) {\r\n\t        this.id = id;\r\n\t        this.description = description;\r\n\t    }\r\n\t    Object.defineProperty(ItemChild.prototype, \"htmlText\", {\r\n\t        get: function () { return this.description; },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    return ItemChild;\r\n\t}());\r\n\texports.ItemChild = ItemChild;\r\n\tvar IdCodeDescription = (function () {\r\n\t    function IdCodeDescription(id, code, description) {\r\n\t        this.id = id;\r\n\t        this.code = code;\r\n\t        this.description = description;\r\n\t    }\r\n\t    Object.defineProperty(IdCodeDescription.prototype, \"htmlText\", {\r\n\t        get: function () { return this.description; },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    IdCodeDescription.fromJson = function (json) {\r\n\t        var data = JSON.parse(json);\r\n\t        return new IdCodeDescription(data.id, data.code, data.description);\r\n\t    };\r\n\t    IdCodeDescription.empty = function () {\r\n\t        return new IdCodeDescription(1, \"\", \"\");\r\n\t    };\r\n\t    IdCodeDescription.mapToProperty = function (option) { return option[\"code\"]; };\r\n\t    return IdCodeDescription;\r\n\t}());\r\n\texports.IdCodeDescription = IdCodeDescription;\r\n\tfunction updateFields(dest, orig, fields) {\r\n\t    fields.forEach(function (f) { return dest[f] = orig[f] || dest[f]; });\r\n\t}\r\n\texports.updateFields = updateFields;\r\n\n\n/***/ },\n\n/***/ 525:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(1137));\r\n\t__export(__webpack_require__(1135));\r\n\n\n/***/ },\n\n/***/ 1137:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(30);\r\n\tvar router_1 = __webpack_require__(58);\r\n\t//console.log('`UserAdmin` component loaded asynchronously');\r\n\tvar UserAdmin = (function () {\r\n\t    function UserAdmin() {\r\n\t    }\r\n\t    UserAdmin.prototype.ngOnInit = function () {\r\n\t        //console.log('hello `User Admin` component');\r\n\t    };\r\n\t    UserAdmin = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'user-admin',\r\n\t            directives: [router_1.ROUTER_DIRECTIVES],\r\n\t            template: \"\\n    <router-outlet></router-outlet>\\n  \"\r\n\t        }),\r\n\t        router_1.RouteConfig([\r\n\t            { path: '/', name: 'UserHome', loader: function () { return __webpack_require__(1138)('UserHome'); }, useAsDefault: true },\r\n\t            { path: '/user-overview', name: 'UserOverview', loader: function () { return __webpack_require__(1139)('UserOverviewComponent'); } },\r\n\t            { path: '/user/create', name: 'UserCreate', loader: function () { return __webpack_require__(906)('UserManagementComponent'); } },\r\n\t            { path: '/user/:username/edit', name: 'UserEdit', loader: function () { return __webpack_require__(906)('UserManagementComponent'); } }\r\n\t        ]), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], UserAdmin);\r\n\t    return UserAdmin;\r\n\t}());\r\n\texports.UserAdmin = UserAdmin;\r\n\n\n/***/ },\n\n/***/ 906:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function (namespace) {\n\t  return new Promise(function (resolve) {\n\t    __webpack_require__.e/* nsure */(12, function (require) {\n\t      if (namespace) {\n\t        resolve(__webpack_require__(1132)[namespace]);\n\t      } else {\n\t        var mod = __webpack_require__(1132);\n\t        resolve(mod.__esModule ? mod.default : mod)\n\t      }\n\t    });\n\t  });\n\t}\n\n/***/ },\n\n/***/ 1138:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function (namespace) {\n\t  return new Promise(function (resolve) {\n\t    __webpack_require__.e/* nsure */(21, function (require) {\n\t      if (namespace) {\n\t        resolve(__webpack_require__(1133)[namespace]);\n\t      } else {\n\t        var mod = __webpack_require__(1133);\n\t        resolve(mod.__esModule ? mod.default : mod)\n\t      }\n\t    });\n\t  });\n\t}\n\n/***/ },\n\n/***/ 1139:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = function (namespace) {\n\t  return new Promise(function (resolve) {\n\t    __webpack_require__.e/* nsure */(13, function (require) {\n\t      if (namespace) {\n\t        resolve(__webpack_require__(1134)[namespace]);\n\t      } else {\n\t        var mod = __webpack_require__(1134);\n\t        resolve(mod.__esModule ? mod.default : mod)\n\t      }\n\t    });\n\t  });\n\t}\n\n/***/ },\n\n/***/ 1135:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar http_1 = __webpack_require__(257);\r\n\tvar core_1 = __webpack_require__(30);\r\n\tvar Observable_1 = __webpack_require__(14);\r\n\tvar referential_1 = __webpack_require__(888);\r\n\tvar services_1 = __webpack_require__(38);\r\n\t__webpack_require__(903);\r\n\tvar UserService = (function () {\r\n\t    function UserService(http, config, logger) {\r\n\t        this.http = http;\r\n\t        this.config = config;\r\n\t        this.logger = logger;\r\n\t        this.query = \" \\n    {\\n      \\\"fields\\\": [\\n        \\\"active\\\",\\n        \\\"username\\\",\\n        \\\"firstName\\\",\\n        \\\"lastName\\\",\\n        \\\"profiles\\\",\\n        \\\"email\\\"\\n      ],\\n  \\\"query\\\": {\\n    \\\"bool\\\": {\\n      \\\"should\\\": [\\n        {\\n          \\\"match\\\": {\\n            \\\"username\\\": {\\n              \\\"query\\\": \\\"##TO_REPLACE##\\\",\\n              \\\"analyzer\\\": \\\"standard\\\",\\n              \\\"operator\\\": \\\"and\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"match\\\": {\\n            \\\"firstName\\\": {\\n              \\\"query\\\": \\\"##TO_REPLACE##\\\",\\n              \\\"analyzer\\\": \\\"standard\\\",\\n              \\\"operator\\\": \\\"and\\\"\\n           }\\n         }\\n       },\\n        {\\n          \\\"match\\\": {\\n            \\\"lastName\\\": {\\n              \\\"query\\\": \\\"##TO_REPLACE##\\\",\\n              \\\"analyzer\\\": \\\"standard\\\",\\n              \\\"operator\\\": \\\"and\\\"\\n           }\\n         }\\n       }\\n\\n      ]\\n    }\\n  },\\n  \\\"from\\\": 0,\\n  \\\"size\\\": 1000,\\n  \\\"sort\\\": [\\n    {\\n      \\\"username\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    },\\n    {\\n      \\\"firstName\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    },\\n    {\\n      \\\"lastName\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    }\\n\\n  ]\\n}\\n  \";\r\n\t        this.userQuery = \"\\n   {\\n      \\\"fields\\\": [\\n        \\\"active\\\",\\n        \\\"username\\\",\\n        \\\"firstName\\\",\\n        \\\"lastName\\\",\\n        \\\"permissions\\\",\\n        \\\"profiles\\\",\\n        \\\"email\\\"\\n      ],\\n        \\\"filter\\\" : {\\n            \\\"query\\\" : {\\n                \\\"query_string\\\" : {\\n                    \\\"query\\\" : \\\"##TO_REPLACE##\\\"\\n                }\\n            }\\n        }\\n      }\\n  \";\r\n\t        this.queryAll = \" \\n    {\\n      \\\"fields\\\": [\\n        \\\"active\\\",\\n        \\\"username\\\",\\n        \\\"firstName\\\",\\n        \\\"lastName\\\",\\n        \\\"profiles\\\",\\n        \\\"email\\\"\\n      ],\\n  \\\"sort\\\": [\\n    {\\n      \\\"username\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    },\\n    {\\n      \\\"firstName\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    },\\n    {\\n      \\\"lastName\\\": {\\n        \\\"order\\\": \\\"asc\\\"\\n      }\\n    }\\n\\n  ]\\n}\\n  \";\r\n\t    }\r\n\t    //TODO: \r\n\t    /*\r\n\t     *  + remove limit size=100 for all http request, use pagination instead\r\n\t    */\r\n\t    UserService.prototype.findUserByUsername = function (username) {\r\n\t        var _this = this;\r\n\t        this.logger.debug(\"in findUSerByname\");\r\n\t        var payload = this.userQuery.replace(/##TO_REPLACE##/g, username);\r\n\t        var found = undefined;\r\n\t        return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search\", payload)\r\n\t            .map(function (res) { return res.json(); })\r\n\t            .flatMap(this.toFields)\r\n\t            .map(function (user) {\r\n\t            _this.logger.debug(\" username \" + username.length + \" user.username \" + user.username.length + \" equals \" + (username == user.username));\r\n\t            _this.logger.debug(\" result \" + (username == user.username && user.username !== \"NOT_FOUND\") + \" found by username [\" + username + \"] \" + JSON.stringify(user));\r\n\t            return { \"found\": username == user.username && user.username !== \"NOT_FOUND\", \"value\": user };\r\n\t        });\r\n\t    };\r\n\t    UserService.prototype.findUserMatches = function (text) {\r\n\t        return this.findUserMatchesJson(text)\r\n\t            .flatMap(this.toFields)\r\n\t            .filter(function (user) { return user.username != \"system\" && user.username != \"testing\" && user.username != \"NOT_FOUND\"; });\r\n\t    };\r\n\t    UserService.prototype.findProfiles = function () {\r\n\t        return this.http.get(this.config.get(\"esBackUrl\") + \"/authentication/routingprofiles/_search?size=1000\").map(function (res) { return res.json(); });\r\n\t    };\r\n\t    UserService.prototype.toSearchResult = function (data) {\r\n\t        var total = data['hits'].total;\r\n\t        if (total == 0) {\r\n\t            return { \"found\": false, \"value\": [] };\r\n\t        }\r\n\t        var hitArray = data['hits'].hits;\r\n\t        return { \"found\": true, \"value\": hitArray.map(function (s) { return s._source; }) };\r\n\t    };\r\n\t    UserService.prototype.findAllProfiles = function () {\r\n\t        return this.findProfiles()\r\n\t            .map(this.toSearchResult)\r\n\t            .flatMap(function (res) {\r\n\t            if (res.found) {\r\n\t                return Observable_1.Observable.from(res.value.map(function (profile) { return new referential_1.IdCodeDescription(profile.id, \"N/A\", profile.name); }));\r\n\t            }\r\n\t            else {\r\n\t                return Observable_1.Observable.from([]);\r\n\t            }\r\n\t        });\r\n\t    };\r\n\t    UserService.prototype.toFields = function (match) {\r\n\t        var total = match['hits'].total;\r\n\t        var userNotFound = { \"username\": \"NOT_FOUND\" };\r\n\t        var result = total <= 0 ?\r\n\t            Observable_1.Observable.from([userNotFound])\r\n\t            : Observable_1.Observable.from(match['hits'].hits).map(function (hit) { return hit[\"fields\"] || userNotFound; });\r\n\t        return result.map(function (user) {\r\n\t            user.active = user.active && user.active[0];\r\n\t            return user;\r\n\t        });\r\n\t    };\r\n\t    UserService.prototype.findUserMatchesJson = function (text) {\r\n\t        if (text) {\r\n\t            var payload = this.query.replace(/##TO_REPLACE##/g, text);\r\n\t            //this.logger.debug(\"findPointMatches payload \"+ payload);\r\n\t            return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search?size=1000\", payload).map(function (res) { return res.json(); });\r\n\t        }\r\n\t        else {\r\n\t            return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search?size=100\", this.queryAll).map(function (res) { return res.json(); });\r\n\t        }\r\n\t    };\r\n\t    UserService.prototype.replacerFor = function (fields) {\r\n\t        var replacer = function (key, value) {\r\n\t            fields.forEach(function (field) {\r\n\t                if (value && value[field]) {\r\n\t                    //this.logger.log(\" [replacer] instanceof \" + (value[field] instanceof Array));\r\n\t                    if (value[field] instanceof Array) {\r\n\t                        value[field] = value[field][0];\r\n\t                    }\r\n\t                    else {\r\n\t                    }\r\n\t                }\r\n\t            });\r\n\t            return value;\r\n\t        };\r\n\t        return replacer;\r\n\t    };\r\n\t    UserService.prototype.saveUser = function (user) {\r\n\t        var _this = this;\r\n\t        var headers = new http_1.Headers();\r\n\t        headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\t        return this.getPermissions(user.profiles).flatMap(function (permissions) {\r\n\t            // let payload : string = JSON.stringify(user.toUpdateModel());\r\n\t            var payload = JSON.stringify({\r\n\t                \"doc\": {\r\n\t                    \"active\": user.active,\r\n\t                    \"username\": user.username,\r\n\t                    \"firstName\": user.firstName,\r\n\t                    \"lastName\": user.lastName,\r\n\t                    \"profiles\": user.profiles,\r\n\t                    \"permissions\": permissions,\r\n\t                    \"email\": user.email\r\n\t                }\r\n\t            }, _this.replacerFor([\"username\"]));\r\n\t            _this.logger.log(\" save user sent: \" + payload);\r\n\t            return _this.http.post(_this.config.get(\"esBackUrl\") + \"/authentication/routingusers/\" + user.username + \"/_update\", payload, headers).map(function (res) { return res.json(); });\r\n\t            //   return this.http.put(this.config.get(\"saaBackUrl\")+\"/points/\"+rule.routingPoint+\"/rules/\"+rule.sequence, payload, options).map(res =>  { this.logger.log(\" from save \"+res.json()); res.json(); })\r\n\t        });\r\n\t    };\r\n\t    UserService.prototype.createUser = function (user) {\r\n\t        var _this = this;\r\n\t        var headers = new http_1.Headers();\r\n\t        headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\t        return this.getPermissions(user.profiles).flatMap(function (permissions) {\r\n\t            // let payload : string = JSON.stringify(user.toUpdateModel());\r\n\t            var payload = JSON.stringify({\r\n\t                \"active\": user.active,\r\n\t                \"password\": user.username,\r\n\t                \"oldPassword\": user.username,\r\n\t                \"newPassword\": \"\",\r\n\t                \"username\": user.username,\r\n\t                \"firstName\": user.firstName,\r\n\t                \"lastName\": user.lastName,\r\n\t                \"profiles\": user.profiles,\r\n\t                \"permissions\": permissions,\r\n\t                \"email\": user.email\r\n\t            }, _this.replacerFor([\"username\"]));\r\n\t            _this.logger.log(\" create user sent: \" + payload);\r\n\t            return _this.http.post(_this.config.get(\"esBackUrl\") + \"/authentication/routingusers/\" + user.username, payload, headers).map(function (res) { return res.json(); });\r\n\t        });\r\n\t    };\r\n\t    UserService.prototype.updateUserAudit = function (originalUser, user) {\r\n\t        var headers = new http_1.Headers();\r\n\t        headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\t        var payload = JSON.stringify({\r\n\t            time: Date.now(),\r\n\t            oldUserEntity: originalUser.toAuditModel,\r\n\t            oldUserProfiles: originalUser.toAuditProfiles,\r\n\t            newUserEntity: user.toAuditModel,\r\n\t            newUserProfiles: user.toAuditProfiles\r\n\t        });\r\n\t        return this.http.put(this.config.get(\"auditBackUrl\") + \"/audit/user\", payload, headers)\r\n\t            .map(function (res) { return res.json(); });\r\n\t    };\r\n\t    UserService.prototype.createUserAudit = function (user) {\r\n\t        var headers = new http_1.Headers();\r\n\t        headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\t        var payload = JSON.stringify({\r\n\t            time: Date.now(),\r\n\t            newUserEntity: user.toAuditModel,\r\n\t            newUserProfiles: user.toAuditProfiles\r\n\t        });\r\n\t        return this.http.put(this.config.get(\"auditBackUrl\") + \"/audit/user\", payload, headers)\r\n\t            .map(function (res) { return res.json(); });\r\n\t    };\r\n\t    UserService.prototype.getPermissions = function (profiles) {\r\n\t        var _this = this;\r\n\t        var dbProfiles = Observable_1.Observable.from([\r\n\t            { \"id\": 1, \"name\": \"Admin\", \"active\": true, \"permissions\": [\"amh.import\", \"amh.export\", \"amh.modify.rule\", \"amh.modify.assignment\", \"user.modify\", \"sibes.import\", \"sibes.export\", \"sibes.modify.rule\", \"sibes.modify.point\"] },\r\n\t            { \"id\": 2, \"name\": \"Support\", \"active\": true, \"permissions\": [\"amh.read.only\", \"user.read.only\", \"sibes.read.only\"] },\r\n\t            { \"id\": 3, \"name\": \"Operation\", \"active\": true, \"permissions\": [\"amh.modify.rule\", \"amh.modify.assignment\", \"sibes.modify.rule\", \"sibes.modify.point\"] }\r\n\t        ]);\r\n\t        return this.findProfiles()\r\n\t            .map(this.toSearchResult)\r\n\t            .flatMap(function (res) { return res.found ? Observable_1.Observable.from(res.value) : Observable_1.Observable.from([]); })\r\n\t            .filter(function (profile) { _this.logger.debug(\"p=> \" + JSON.stringify(profile)); return profiles.indexOf(profile.id) >= 0; })\r\n\t            .flatMap(function (profile) { _this.logger.debug(\"permissions=> \" + JSON.stringify(profile.permissions)); return profile.permissions; })\r\n\t            .reduce(function (acc, R) { acc.push(R.toString()); return acc; }, new Array());\r\n\t    };\r\n\t    UserService.prototype.resetPassword = function (user) {\r\n\t        var headers = new http_1.Headers();\r\n\t        headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\t        this.logger.debug(\"user received \" + JSON.stringify(user));\r\n\t        var updatedUser = user.resetPassword().toUpdateModel();\r\n\t        this.logger.debug(\" updated user \" + JSON.stringify(updatedUser));\r\n\t        return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/\" + user.username, updatedUser, headers).map(function (res) { return res.json(); });\r\n\t    };\r\n\t    UserService = __decorate([\r\n\t        core_1.Injectable(), \r\n\t        __metadata('design:paramtypes', [http_1.Http, services_1.Config, services_1.Logger])\r\n\t    ], UserService);\r\n\t    return UserService;\r\n\t}());\r\n\texports.UserService = UserService;\r\n\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 3.ee1969d89ae71d717e6c.chunk.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar filter_1 = require('../../operator/filter');\nObservable_1.Observable.prototype.filter = filter_1.filter;\n//# sourceMappingURL=filter.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/add/operator/filter.js\n// module id = 903\n// module chunks = 3 8 9 10 11 14 15","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctKey}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nfunction filter(predicate, thisArg) {\n    return this.lift(new FilterOperator(predicate, thisArg));\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.count = 0;\n        this.predicate = predicate;\n    }\n    // the try catch block below is left specifically for\n    // optimization and perf reasons. a tryCatcher is not necessary here.\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/rxjs/operator/filter.js\n// module id = 905\n// module chunks = 3 8 9 10 11 14 15","export * from './ui.model';\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/referential/index.ts","export interface IText {\r\n    htmlText: string;\r\n    id :number;\r\n    \r\n}\r\n\r\nexport interface IOption {\r\n    id: number;\r\n    code: string;\r\n    text: string;\r\n    children: IOption[];\r\n}\r\n\r\nexport class ItemContainer implements IText {\r\n    public id: number;\r\n    public description: string;\r\n    public children: ItemChild[];\r\n\r\n    constructor(id: number, description: string) {\r\n        this.id = id;\r\n        this.description = description;\r\n        this.children = [];\r\n    }\r\n\r\n    get htmlText(): string { return this.description; }\r\n\r\n    addChild(child: ItemChild) {\r\n        this.children.push(child);\r\n    }\r\n\r\n}\r\n\r\nexport class ItemChild implements IText {\r\n    public id: number;\r\n    public description: string;\r\n\r\n    constructor(id: number, description: string) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n    get htmlText(): string { return this.description; }\r\n\r\n}\r\n\r\nexport class IdCodeDescription implements IText {\r\n    public id: number;\r\n    public code: string;\r\n    public description: string;\r\n\r\n    constructor(id: number, code: string, description: string) {\r\n        this.id = id;\r\n        this.code = code;\r\n        this.description = description;\r\n    }\r\n\r\n    get htmlText(): string { return this.description; }\r\n\r\n    static mapToProperty = (option: Object) => option[\"code\"];\r\n\r\n    static fromJson(json: string) {\r\n        var data = JSON.parse(json);\r\n        return new IdCodeDescription(data.id, data.code, data.description);\r\n    }\r\n\r\n    static empty() : IdCodeDescription {\r\n       return new IdCodeDescription(1, \"\",\"\"); \r\n    }\r\n}\r\n\r\nexport function updateFields(dest : any, orig : any, fields : Array<string>) {\r\n    fields.forEach( f => dest[f] = orig[f] || dest[f]);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/referential/ui.model.ts","export * from './user-admin.component';\r\nexport * from './user.service';\n\n\n// WEBPACK FOOTER //\n// ./src/app/user-admin/index.ts","import {Component} from 'angular2/core';\r\nimport {ROUTER_DIRECTIVES, RouteConfig, RouteParams} from 'angular2/router';\r\n\r\n//console.log('`UserAdmin` component loaded asynchronously');\r\n\r\n@Component({\r\n  selector: 'user-admin',\r\n  directives: [ROUTER_DIRECTIVES],\r\n  template: `\r\n    <router-outlet></router-outlet>\r\n  `\r\n})\r\n@RouteConfig([\r\n  { path: '/', name: 'UserHome', loader: () => require('es6-promise!./user-home')('UserHome'), useAsDefault: true },\r\n  { path: '/user-overview', name: 'UserOverview', loader: () => require('es6-promise!./user-overview')('UserOverviewComponent') },\r\n  { path: '/user/create', name: 'UserCreate', loader: () => require('es6-promise!./user-creation')('UserManagementComponent') },\r\n  { path: '/user/:username/edit', name: 'UserEdit', loader: () => require('es6-promise!./user-creation')('UserManagementComponent') }\r\n  //,\r\n  // { path: '/assignment/create', name: 'AMHAssignmentCreate', loader: () => require('es6-promise!./amh-assignment')('AMHAssignmentComponent') },\r\n  // { path: '/assignment/edit', name: 'AMHAssignmentEdit', loader: () => require('es6-promise!./amh-assignment')('AMHAssignmentComponent') },  \r\n  // { path: '/export', name: 'AMHExport', loader: () => require('es6-promise!./amh-export-import')('AMHExportImportComponent') },\r\n  // { path: '/import', name: 'AMHImport', loader: () => require('es6-promise!./amh-export-import')('AMHExportImportComponent') }\r\n])\r\nexport class UserAdmin {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    //console.log('hello `User Admin` component');\r\n  }\r\n  \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user-admin/user-admin.component.ts","module.exports = function (namespace) {\n  return new Promise(function (resolve) {\n    require.ensure([], function (require) {\n      if (namespace) {\n        resolve(require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-creation\\\\index.ts\")[namespace]);\n      } else {\n        var mod = require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-creation\\\\index.ts\");\n        resolve(mod.__esModule ? mod.default : mod)\n      }\n    });\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es6-promise-loader!./src/app/user-admin/user-creation/index.ts\n// module id = 906\n// module chunks = 3 8 9 10 11 14 15","module.exports = function (namespace) {\n  return new Promise(function (resolve) {\n    require.ensure([], function (require) {\n      if (namespace) {\n        resolve(require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-home\\\\index.ts\")[namespace]);\n      } else {\n        var mod = require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-home\\\\index.ts\");\n        resolve(mod.__esModule ? mod.default : mod)\n      }\n    });\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es6-promise-loader!./src/app/user-admin/user-home/index.ts\n// module id = 1138\n// module chunks = 3 8 9 10 11 14 15","module.exports = function (namespace) {\n  return new Promise(function (resolve) {\n    require.ensure([], function (require) {\n      if (namespace) {\n        resolve(require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-overview\\\\index.ts\")[namespace]);\n      } else {\n        var mod = require(\"!!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\node_modules\\\\awesome-typescript-loader\\\\dist.babel\\\\entry.js!C:\\\\dev\\\\projects\\\\angular\\\\groupaxis\\\\01-RELEASE-v1.0\\\\src\\\\app\\\\user-admin\\\\user-overview\\\\index.ts\");\n        resolve(mod.__esModule ? mod.default : mod)\n      }\n    });\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es6-promise-loader!./src/app/user-admin/user-overview/index.ts\n// module id = 1139\n// module chunks = 3 8 9 10 11 14 15","import {Headers, RequestOptions, Http} from 'angular2/http';\r\nimport {Injectable} from 'angular2/core';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {IText, IdCodeDescription} from '../models/referential';\r\nimport {UserList, User} from '../models/users';\r\nimport {TreeNode} from '../common/components/ui/widgets/tree-view';\r\nimport {Config, Logger} from '../common/components/services';\r\nimport {Point, PointList} from \"../models/routing\";\r\nimport 'rxjs/add/operator/filter';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  private query: string = ` \r\n    {\r\n      \"fields\": [\r\n        \"active\",\r\n        \"username\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"profiles\",\r\n        \"email\"\r\n      ],\r\n  \"query\": {\r\n    \"bool\": {\r\n      \"should\": [\r\n        {\r\n          \"match\": {\r\n            \"username\": {\r\n              \"query\": \"##TO_REPLACE##\",\r\n              \"analyzer\": \"standard\",\r\n              \"operator\": \"and\"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"match\": {\r\n            \"firstName\": {\r\n              \"query\": \"##TO_REPLACE##\",\r\n              \"analyzer\": \"standard\",\r\n              \"operator\": \"and\"\r\n           }\r\n         }\r\n       },\r\n        {\r\n          \"match\": {\r\n            \"lastName\": {\r\n              \"query\": \"##TO_REPLACE##\",\r\n              \"analyzer\": \"standard\",\r\n              \"operator\": \"and\"\r\n           }\r\n         }\r\n       }\r\n\r\n      ]\r\n    }\r\n  },\r\n  \"from\": 0,\r\n  \"size\": 1000,\r\n  \"sort\": [\r\n    {\r\n      \"username\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    },\r\n    {\r\n      \"firstName\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    },\r\n    {\r\n      \"lastName\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    }\r\n\r\n  ]\r\n}\r\n  `;\r\n\r\n  private userQuery: string = `\r\n   {\r\n      \"fields\": [\r\n        \"active\",\r\n        \"username\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"permissions\",\r\n        \"profiles\",\r\n        \"email\"\r\n      ],\r\n        \"filter\" : {\r\n            \"query\" : {\r\n                \"query_string\" : {\r\n                    \"query\" : \"##TO_REPLACE##\"\r\n                }\r\n            }\r\n        }\r\n      }\r\n  `;\r\n  private queryAll: string = ` \r\n    {\r\n      \"fields\": [\r\n        \"active\",\r\n        \"username\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"profiles\",\r\n        \"email\"\r\n      ],\r\n  \"sort\": [\r\n    {\r\n      \"username\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    },\r\n    {\r\n      \"firstName\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    },\r\n    {\r\n      \"lastName\": {\r\n        \"order\": \"asc\"\r\n      }\r\n    }\r\n\r\n  ]\r\n}\r\n  `;\r\n\r\n  constructor(private http: Http, private config: Config, private logger : Logger) {\r\n\r\n  }\r\n\r\n  //TODO: \r\n  /*\r\n   *  + remove limit size=100 for all http request, use pagination instead  \r\n  */\r\n\r\n  findUserByUsername(username :string): Observable<any> {\r\n    this.logger.debug(\"in findUSerByname\");\r\n    let payload = this.userQuery.replace(/##TO_REPLACE##/g, username);\r\n    let found = undefined;\r\n    return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search\", payload)\r\n      .map(res => res.json())\r\n      .flatMap(this.toFields)\r\n      .map(user => {\r\n        this.logger.debug(\" username \"+ username.length + \" user.username \"+  user.username.length + \" equals \"+ (username == user.username));\r\n        this.logger.debug(\" result \"+(username == user.username && user.username !== \"NOT_FOUND\")+\" found by username [\" + username + \"] \" + JSON.stringify(user));\r\n        return { \"found\": username == user.username && user.username !== \"NOT_FOUND\", \"value\": user }\r\n      });\r\n\r\n\r\n  }\r\n\r\n  findUserMatches(text?: string): Observable<any> {\r\n    return this.findUserMatchesJson(text)\r\n      .flatMap(this.toFields)\r\n      .filter(user => user.username != \"system\" && user.username != \"testing\" && user.username != \"NOT_FOUND\");\r\n  }\r\n  \r\n  private findProfiles() : Observable<any> {\r\n    return this.http.get(this.config.get(\"esBackUrl\")+\"/authentication/routingprofiles/_search?size=1000\").map(res => res.json());\r\n  }\r\n\r\n  private toSearchResult(data : any)  : (any) {\r\n    let total = data['hits'].total;\r\n    if (total == 0 ) {\r\n        return {\"found\":false, \"value\":[]};\r\n    }\r\n\r\n    let hitArray = data['hits'].hits;\r\n    \r\n    return {\"found\":true, \"value\":hitArray.map( s => s._source)};\r\n  }\r\n\r\n\r\n  findAllProfiles(): Observable<IdCodeDescription> {\r\n    return this.findProfiles()\r\n    .map(this.toSearchResult)\r\n    .flatMap(\r\n      res => {\r\n        if (res.found) {\r\n          return Observable.from( res.value.map(profile => new IdCodeDescription(profile.id, \"N/A\", profile.name)));\r\n        } else {\r\n          return Observable.from([]);\r\n        }\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n  private toFields(match): Observable<any> {\r\n    let total = match['hits'].total;\r\n    let userNotFound = { \"username\": \"NOT_FOUND\" };\r\n\r\n    let result : Observable<any> =  total <= 0 ?\r\n      Observable.from([userNotFound])\r\n      : Observable.from(match['hits'].hits).map(hit => hit[\"fields\"] || userNotFound);\r\n\r\n    return result.map(user => { \r\n      user.active = user.active && user.active[0];\r\n      return user;\r\n    });      \r\n  }\r\n\r\n  private findUserMatchesJson(text?: string): Observable<any> {\r\n    if (text) {\r\n      let payload = this.query.replace(/##TO_REPLACE##/g, text);\r\n      //this.logger.debug(\"findPointMatches payload \"+ payload);\r\n      return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search?size=1000\", payload).map(res => res.json());\r\n    } else {\r\n      return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/_search?size=100\", this.queryAll).map(res => res.json());\r\n    }\r\n  }\r\n\r\nprivate replacerFor(fields: Array<string>): (key: string, value: any) => any {\r\n\r\n    let replacer =\r\n      function (key: string, value: any): any {\r\n        fields.forEach(field => {\r\n          if (value && value[field]) {\r\n            //this.logger.log(\" [replacer] instanceof \" + (value[field] instanceof Array));\r\n            if (value[field] instanceof Array) {\r\n              value[field] = value[field][0];\r\n            } else {\r\n             // this.logger.log(field + \"  [replacer] is not array\");\r\n            }\r\n          }\r\n        });\r\n\r\n        return value;\r\n      };\r\n\r\n    return replacer;\r\n  }\r\n\r\n  saveUser(user: User): Observable<any> {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\r\n    return this.getPermissions(user.profiles).flatMap(\r\n      permissions => {\r\n        // let payload : string = JSON.stringify(user.toUpdateModel());\r\n        let payload: string = JSON.stringify({\r\n          \"doc\": {\r\n            \"active\": user.active,\r\n            \"username\": user.username,\r\n            \"firstName\": user.firstName,\r\n            \"lastName\": user.lastName,\r\n            \"profiles\": user.profiles,\r\n            \"permissions\": permissions,\r\n            \"email\" : user.email\r\n          }\r\n        }, this.replacerFor([\"username\"]));\r\n        this.logger.log(\" save user sent: \" + payload);\r\n\r\n        return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/\" + user.username + \"/_update\", payload, headers).map(res => res.json());\r\n        //   return this.http.put(this.config.get(\"saaBackUrl\")+\"/points/\"+rule.routingPoint+\"/rules/\"+rule.sequence, payload, options).map(res =>  { this.logger.log(\" from save \"+res.json()); res.json(); })\r\n      }\r\n    );\r\n  }\r\n\r\n  createUser(user: User): Observable<any> {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/json; charset=utf-8');\r\n\r\n    return this.getPermissions(user.profiles).flatMap(\r\n      permissions => {\r\n        // let payload : string = JSON.stringify(user.toUpdateModel());\r\n        let payload: string = JSON.stringify({\r\n          \"active\": user.active,\r\n          \"password\": user.username,\r\n          \"oldPassword\": user.username,\r\n          \"newPassword\": \"\",\r\n          \"username\": user.username,\r\n          \"firstName\": user.firstName,\r\n          \"lastName\": user.lastName,\r\n          \"profiles\": user.profiles,\r\n          \"permissions\": permissions,\r\n          \"email\": user.email\r\n        }, this.replacerFor([\"username\"]));\r\n        this.logger.log(\" create user sent: \" + payload);\r\n        return this.http.post(this.config.get(\"esBackUrl\") + \"/authentication/routingusers/\" + user.username, payload, headers).map(res => res.json());\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  updateUserAudit(originalUser : User, user : User): Observable<any> {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/json; charset=utf-8');\r\n    let payload : string = JSON.stringify({\r\n      time : Date.now(),\r\n      oldUserEntity : originalUser.toAuditModel,\r\n      oldUserProfiles : originalUser.toAuditProfiles,\r\n      newUserEntity : user.toAuditModel,\r\n      newUserProfiles : user.toAuditProfiles\r\n    });\r\n    return this.http.put(this.config.get(\"auditBackUrl\") + \"/audit/user\", payload, headers )\r\n    .map(res => res.json())\r\n  }\r\n\r\n  createUserAudit(user : User): Observable<any> {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/json; charset=utf-8');\r\n    let payload : string = JSON.stringify({\r\n      time : Date.now(),\r\n      newUserEntity : user.toAuditModel,\r\n      newUserProfiles : user.toAuditProfiles\r\n    });\r\n    \r\n    return this.http.put(this.config.get(\"auditBackUrl\") + \"/audit/user\", payload, headers )\r\n    .map(res => res.json())\r\n  }\r\n\r\n  private getPermissions(profiles: Array<number>): Observable<Array<string>> {\r\n    let dbProfiles = Observable.from([\r\n      { \"id\":1, \"name\": \"Admin\", \"active\": true, \"permissions\": [\"amh.import\", \"amh.export\", \"amh.modify.rule\", \"amh.modify.assignment\", \"user.modify\", \"sibes.import\", \"sibes.export\", \"sibes.modify.rule\", \"sibes.modify.point\"] },\r\n      { \"id\":2, \"name\": \"Support\", \"active\": true, \"permissions\": [\"amh.read.only\", \"user.read.only\", \"sibes.read.only\"] },\r\n      { \"id\":3, \"name\": \"Operation\", \"active\": true, \"permissions\": [\"amh.modify.rule\", \"amh.modify.assignment\", \"sibes.modify.rule\", \"sibes.modify.point\"] }\r\n    ]);\r\n\r\n  \r\n return this.findProfiles()\r\n    .map(this.toSearchResult)\r\n    .flatMap( res => res.found ?  Observable.from( res.value):Observable.from([]))\r\n    .filter(profile => { this.logger.debug(\"p=> \" + JSON.stringify(profile)); return profiles.indexOf(profile.id) >= 0; } )\r\n    .flatMap(profile =>{ this.logger.debug(\"permissions=> \" + JSON.stringify(profile.permissions)); return profile.permissions; })\r\n    .reduce((acc, R) => { acc.push(R.toString()); return acc; }, new Array<string>());\r\n\r\n  }\r\n\r\n  public resetPassword(user : User) : Observable<any> {\r\n    var headers = new Headers();\r\n    headers.append('Content-Type', 'application/json; charset=utf-8');\r\n    this.logger.debug(\"user received \" + JSON.stringify(user));\r\n    let updatedUser = user.resetPassword().toUpdateModel();\r\n\r\n    this.logger.debug(\" updated user \" + JSON.stringify(updatedUser));\r\n    return this.http.post(this.config.get(\"esBackUrl\")+\"/authentication/routingusers/\"+user.username, updatedUser, headers).map(res => res.json());\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/user-admin/user.service.ts"],"sourceRoot":""}