webpackJsonp([18],{900:function(t,e,n){var i=n(878),r=n(1129),o=n(899),a=n(1128);e.DataTable=i.DataTable,e.DataEvent=i.DataEvent,e.PageEvent=i.PageEvent,e.SortEvent=i.SortEvent,e.DefaultSorter=r.DefaultSorter,e.Paginator=o.Paginator,e.BootstrapPaginator=a.BootstrapPaginator,e.DataTableDirectives=[i.DataTable,r.DefaultSorter,o.Paginator,a.BootstrapPaginator]},1128:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(1),a=n(878),s=n(899),c=n(528),l=function(){function BootstrapPaginator(){this.rowsOnPageSet=[],this.minRowsOnPage=0}return BootstrapPaginator.prototype.ngOnChanges=function(t){t.rowsOnPageSet&&(this.minRowsOnPage=c.min(this.rowsOnPageSet))},i([o.Input("rowsOnPageSet"),r("design:type",Object)],BootstrapPaginator.prototype,"rowsOnPageSet",void 0),i([o.Input("mfTable"),r("design:type",a.DataTable)],BootstrapPaginator.prototype,"mfTable",void 0),BootstrapPaginator=i([o.Component({selector:"mfBootstrapPaginator",template:'\n    <mfPaginator #p [mfTable]="mfTable">\n        <nav class="pagination" *ngIf="p.dataLength > p.rowsOnPage">\n            <li [class.disabled]="p.activePage <= 1" (click)="p.setPage(1)">\n                <a style="cursor: pointer">&laquo;</a>\n            </li>\n            <li *ngIf="p.activePage > 4 && p.activePage + 1 > p.lastPage" (click)="p.setPage(p.activePage - 4)">\n                <a style="cursor: pointer">{{p.activePage-4}}</a>\n            </li>\n            <li *ngIf="p.activePage > 3 && p.activePage + 2 > p.lastPage" (click)="p.setPage(p.activePage - 3)">\n                <a style="cursor: pointer">{{p.activePage-3}}</a>\n            </li>\n            <li *ngIf="p.activePage > 2" (click)="p.setPage(p.activePage - 2)">\n                <a style="cursor: pointer">{{p.activePage-2}}</a>\n            </li>\n            <li *ngIf="p.activePage > 1" (click)="p.setPage(p.activePage - 1)">\n                <a style="cursor: pointer">{{p.activePage-1}}</a>\n            </li>\n            <li class="active">\n                <a style="cursor: pointer">{{p.activePage}}</a>\n            </li>\n            <li *ngIf="p.activePage + 1 <= p.lastPage" (click)="p.setPage(p.activePage + 1)">\n                <a style="cursor: pointer">{{p.activePage+1}}</a>\n            </li>\n            <li *ngIf="p.activePage + 2 <= p.lastPage" (click)="p.setPage(p.activePage + 2)">\n                <a style="cursor: pointer">{{p.activePage+2}}</a>\n            </li>\n            <li *ngIf="p.activePage + 3 <= p.lastPage && p.activePage < 3" (click)="p.setPage(p.activePage + 3)">\n                <a style="cursor: pointer">{{p.activePage+3}}</a>\n            </li>\n            <li *ngIf="p.activePage + 4 <= p.lastPage && p.activePage < 2" (click)="p.setPage(p.activePage + 4)">\n                <a style="cursor: pointer">{{p.activePage+4}}</a>\n            </li>\n            <li [class.disabled]="p.activePage >= p.lastPage" (click)="p.setPage(p.lastPage)">\n                <a style="cursor: pointer">&raquo;</a>\n            </li>\n        </nav>\n        <nav class="pagination pull-right" *ngIf="p.dataLength > minRowsOnPage">\n            <li *ngFor="let rows of rowsOnPageSet" [class.active]="p.rowsOnPage===rows" (click)="p.setRowsOnPage(rows)">\n                <a style="cursor: pointer">{{rows}}</a>\n            </li>\n        </nav>\n    </mfPaginator>\n    ',directives:[s.Paginator]}),r("design:paramtypes",[])],BootstrapPaginator)}();e.BootstrapPaginator=l},878:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(1),a=n(528),s=function(){function DataTable(){this.inputData=[],this.sortBy="",this.sortOrder="asc",this.rowsOnPage=1e3,this.activePage=1,this.mustRecalculateData=!1,this.onDataChange=new o.EventEmitter,this.onSortChange=new o.EventEmitter,this.onPageChange=new o.EventEmitter}return DataTable.prototype.getSort=function(){return{sortBy:this.sortBy,sortOrder:this.sortOrder}},DataTable.prototype.setSort=function(t,e){this.sortBy===t&&this.sortOrder===e||(this.sortBy=t,this.sortOrder=e,this.mustRecalculateData=!0,this.onSortChange.emit({sortBy:t,sortOrder:e}))},DataTable.prototype.getPage=function(){return{activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData.length}},DataTable.prototype.setPage=function(t,e){this.rowsOnPage===e&&this.activePage===t||(this.activePage=this.activePage!==t?t:this.calculateNewActivePage(this.rowsOnPage,e),this.rowsOnPage=e,this.mustRecalculateData=!0,this.onPageChange.emit({activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData.length}))},DataTable.prototype.calculateNewActivePage=function(t,e){var n=(this.activePage-1)*t+1,i=Math.ceil(n/e);return i},DataTable.prototype.ngOnChanges=function(t){t.inputData&&(this.inputData=this.inputData||[],this.onPageChange.emit({activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData.length}),this.mustRecalculateData=!0)},DataTable.prototype.ngDoCheck=function(){this.mustRecalculateData&&(this.fillData(),this.mustRecalculateData=!1)},DataTable.prototype.fillData=function(){this.activePage=this.activePage,this.rowsOnPage=this.rowsOnPage;var t=(this.activePage-1)*this.rowsOnPage,e=this.inputData;e=a.orderBy(e,[this.sortBy],[this.sortOrder]),e=a.slice(e,t,t+this.rowsOnPage),this.data=e},i([o.Input("mfData"),r("design:type",Array)],DataTable.prototype,"inputData",void 0),i([o.Input("mfRowsOnPage"),r("design:type",Object)],DataTable.prototype,"rowsOnPage",void 0),i([o.Input("mfActivePage"),r("design:type",Object)],DataTable.prototype,"activePage",void 0),DataTable=i([o.Directive({selector:"table[mfData]",exportAs:"mfDataTable"}),r("design:paramtypes",[])],DataTable)}();e.DataTable=s},1129:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=n(1),a=n(878),s=function(){function DefaultSorter(t){var e=this;this.mfTable=t,this.isSortedByMeAsc=!1,this.isSortedByMeDesc=!1,t.onSortChange.subscribe(function(t){e.isSortedByMeAsc=t.sortBy===e.sortBy&&"asc"===t.sortOrder,e.isSortedByMeDesc=t.sortBy===e.sortBy&&"desc"===t.sortOrder})}return DefaultSorter.prototype.sort=function(){this.isSortedByMeAsc?this.mfTable.setSort(this.sortBy,"desc"):this.mfTable.setSort(this.sortBy,"asc")},i([o.Input("by"),r("design:type",String)],DefaultSorter.prototype,"sortBy",void 0),DefaultSorter=i([o.Component({selector:"mfDefaultSorter",template:'\n        <a style="cursor: pointer" (click)="sort()" class="text-nowrap">\n            <ng-content></ng-content>\n            <span *ngIf="isSortedByMeAsc" class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>\n            <span *ngIf="isSortedByMeDesc" class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>\n        </a>'}),r("design:paramtypes",[a.DataTable])],DefaultSorter)}();e.DefaultSorter=s},899:function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},a=n(1),s=n(878),c=function(){function Paginator(t){var e=this;this.injectMfTable=t,this.dataLength=0,this.onPageChangeSubscriber=function(t){e.activePage=t.activePage,e.rowsOnPage=t.rowsOnPage,e.dataLength=t.dataLength,e.lastPage=Math.ceil(e.dataLength/e.rowsOnPage)}}return Paginator.prototype.ngOnChanges=function(t){this.mfTable=this.inputMfTable||this.injectMfTable,this.onPageChangeSubscriber(this.mfTable.getPage()),this.mfTable.onPageChange.subscribe(this.onPageChangeSubscriber)},Paginator.prototype.setPage=function(t){this.mfTable.setPage(t,this.rowsOnPage)},Paginator.prototype.setRowsOnPage=function(t){this.mfTable.setPage(this.activePage,t)},i([a.Input("mfTable"),r("design:type",s.DataTable)],Paginator.prototype,"inputMfTable",void 0),Paginator=i([a.Component({selector:"mfPaginator",template:"<ng-content></ng-content>"}),o(0,a.Optional()),r("design:paramtypes",[s.DataTable])],Paginator)}();e.Paginator=c},911:function(t,e,n){"use strict";var i=n(14),r=n(913);i.Observable.prototype.debounceTime=r.debounceTime},912:function(t,e,n){"use strict";var i=n(14),r=n(914);i.Observable.prototype.switchMap=r.switchMap},913:function(t,e,n){"use strict";function debounceTime(t,e){return void 0===e&&(e=o.async),this.lift(new a(t,e))}function dispatchNext(t){t.debouncedNext()}var i=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=n(70),o=n(871);e.debounceTime=debounceTime;var a=function(){function DebounceTimeOperator(t,e){this.dueTime=t,this.scheduler=e}return DebounceTimeOperator.prototype.call=function(t,e){return e._subscribe(new s(t,this.dueTime,this.scheduler))},DebounceTimeOperator}(),s=function(t){function DebounceTimeSubscriber(e,n,i){t.call(this,e),this.dueTime=n,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return i(DebounceTimeSubscriber,t),DebounceTimeSubscriber.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(r.Subscriber)},914:function(t,e,n){"use strict";function switchMap(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=n(520),o=n(521);e.switchMap=switchMap;var a=function(){function SwitchMapOperator(t,e){this.project=t,this.resultSelector=e}return SwitchMapOperator.prototype.call=function(t,e){return e._subscribe(new s(t,this.project,this.resultSelector))},SwitchMapOperator}(),s=function(t){function SwitchMapSubscriber(e,n,i){t.call(this,e),this.project=n,this.resultSelector=i,this.index=0}return i(SwitchMapSubscriber,t),SwitchMapSubscriber.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},SwitchMapSubscriber.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,t,e,n))},SwitchMapSubscriber.prototype._complete=function(){var e=this.innerSubscription;e&&!e.isUnsubscribed||t.prototype._complete.call(this)},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(t,e,n,i,r){this.resultSelector?this._tryNotifyNext(t,e,n,i):this.destination.next(e)},SwitchMapSubscriber.prototype._tryNotifyNext=function(t,e,n,i){var r;try{r=this.resultSelector(t,e,n,i)}catch(t){return void this.destination.error(t)}this.destination.next(r)},SwitchMapSubscriber}(r.OuterSubscriber)},915:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=n(872),o=n(879),a=function(t){function AsyncScheduler(){t.apply(this,arguments)}return i(AsyncScheduler,t),AsyncScheduler.prototype.scheduleNow=function(t,e){return new r.FutureAction(this,t).schedule(e,0)},AsyncScheduler}(o.QueueScheduler);e.AsyncScheduler=a},872:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=n(59),o=n(108),a=function(t){function FutureAction(e,n){t.call(this),this.scheduler=e,this.work=n,this.pending=!1}return i(FutureAction,t),FutureAction.prototype.execute=function(){if(this.isUnsubscribed)this.error=new Error("executing a cancelled action");else try{this.work(this.state)}catch(t){this.unsubscribe(),this.error=t}},FutureAction.prototype.schedule=function(t,e){return void 0===e&&(e=0),this.isUnsubscribed?this:this._schedule(t,e)},FutureAction.prototype._schedule=function(t,e){var n=this;void 0===e&&(e=0),this.state=t,this.pending=!0;var i=this.id;return null!=i&&this.delay===e?this:(this.delay=e,null!=i&&(this.id=null,r.root.clearInterval(i)),this.id=r.root.setInterval(function(){n.pending=!1;var t=n,e=t.id,i=t.scheduler;i.actions.push(n),i.flush(),n.pending===!1&&null!=e&&(n.id=null,r.root.clearInterval(e))},e),this)},FutureAction.prototype._unsubscribe=function(){this.pending=!1;var t=this,e=t.id,n=t.scheduler,i=n.actions,o=i.indexOf(this);null!=e&&(this.id=null,r.root.clearInterval(e)),o!==-1&&i.splice(o,1),this.work=null,this.state=null,this.scheduler=null},FutureAction}(o.Subscription);e.FutureAction=a},916:function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=n(872),o=function(t){function QueueAction(){t.apply(this,arguments)}return i(QueueAction,t),QueueAction.prototype._schedule=function(e,n){if(void 0===n&&(n=0),n>0)return t.prototype._schedule.call(this,e,n);this.delay=n,this.state=e;var i=this.scheduler;return i.actions.push(this),i.flush(),this},QueueAction}(r.FutureAction);e.QueueAction=o},879:function(t,e,n){"use strict";var i=n(916),r=n(872),o=function(){function QueueScheduler(){this.active=!1,this.actions=[],this.scheduledId=null}return QueueScheduler.prototype.now=function(){return Date.now()},QueueScheduler.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var t=this.actions,e=null;e=t.shift();)if(e.execute(),e.error)throw this.active=!1,e.error;this.active=!1}},QueueScheduler.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),e<=0?this.scheduleNow(t,n):this.scheduleLater(t,e,n)},QueueScheduler.prototype.scheduleNow=function(t,e){return new i.QueueAction(this,t).schedule(e)},QueueScheduler.prototype.scheduleLater=function(t,e,n){return new r.FutureAction(this,t).schedule(n,e)},QueueScheduler}();e.QueueScheduler=o},871:function(t,e,n){"use strict";var i=n(915);e.async=new i.AsyncScheduler},1239:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(1240))},1240:function(t,e,n){"use strict";var i=n(30),r=n(8),o=function(){function MultiSelectionComponent(t){this.elementRef=t,this.inputOptions=[],this.seletionEmitter=new i.EventEmitter,this.selected=[],this.defaultTitle="Select Items",this.showMenu=!1,this.selectionTitle=""}return MultiSelectionComponent.prototype.ngOnInit=function(){this.selectionTitle=this.defaultTitle},MultiSelectionComponent.prototype.handleClick=function(t){var e=t.target,n=!1;do e===this.elementRef.nativeElement&&(n=!0),e=e.parentNode;while(e);n||(this.showMenu=!1)},MultiSelectionComponent.prototype.actionToggleMultiSelect=function(t,e){t.preventDefault(),this.selected.indexOf(e)==-1?(this.selected=this.selected.concat([e]),e.selected=!0):(e.selected=!1,this.selected=this.selected.filter(function(t){return t!=e})),this.selectionTitle=0==this.selected.length?this.defaultTitle:this.selected.map(function(t){return t.code}).join(", "),this.seletionEmitter.emit(this.selected)},__decorate([i.ViewChild("select"),__metadata("design:type",Object)],MultiSelectionComponent.prototype,"selectElRef",void 0),__decorate([i.Input("options"),__metadata("design:type",Array)],MultiSelectionComponent.prototype,"inputOptions",void 0),__decorate([i.Output("optionSelected"),__metadata("design:type",i.EventEmitter)],MultiSelectionComponent.prototype,"seletionEmitter",void 0),__decorate([i.Input("noSelectedMessage"),__metadata("design:type",String)],MultiSelectionComponent.prototype,"defaultTitle",void 0),MultiSelectionComponent=__decorate([i.Component({selector:"gp-multi-selection",template:n(1272),directives:[r.CORE_DIRECTIVES],host:{"(document:click)":"handleClick($event)"}}),__metadata("design:paramtypes",[i.ElementRef])],MultiSelectionComponent)}();e.MultiSelectionComponent=o},1272:function(t,e){t.exports='<div class="btn-group">\r\n  <button class="dropdown-toggle btn btn-default" (click)="showMenu=true" type="button">{{selectionTitle}}&nbsp;<span  class="caret"></span></button>\r\n  <ul *ngIf="showMenu" class="dropdown-menu" style="display: block; height: auto; overflow-y: auto; max-height: 300px;">\r\n    <!--<li >\r\n                    <a  href="#" role="menuitem" tabindex="-1">\r\n                        <span  class="glyphicon glyphicon-ok" style="width: 16px;"></span>\r\n                        Check all\r\n                    </a>\r\n                </li>\r\n                <li >\r\n                    <a  href="#" role="menuitem" tabindex="-1">\r\n                        <span  class="glyphicon glyphicon-remove" style="width: 16px;"></span>\r\n                        Uncheck all\r\n                    </a>\r\n                </li>\r\n                <li  class="divider"></li>-->\r\n    <li *ngFor="let inputOption of inputOptions">\r\n      <a href="#" tabindex="-1" (click)="actionToggleMultiSelect($event, inputOption)">\r\n        <span class="fa" [ngClass]="{\'fa-check\':inputOption.selected}" style="width: 16px;"></span> {{inputOption.code}}\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>'},1210:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(1244))},1244:function(t,e,n){"use strict";var i=n(1),r=n(8),o=n(900),a=n(1187),s=n(38),c=n(926),l=n(531),u=n(530),p=n(58),h=n(258),d=n(1239);n(911),n(912);var f=function(){function SAAPointsOverviewComponent(t,e,n){var i=this;this.saaRoutingService=e,this.logger=n,this.data=[],this.menuConfig=[new l.MenuConfig("fa fa-home","/home","Home"),new l.MenuConfig("fa fa-sitemap","/saa-routing","SAA Routing"),new l.MenuConfig("fa fa-list","","Points Overview")],this.selectionOptions=[],this.selectedOptions=[],e.findSchemas().subscribe(function(t){i.logger.debug("adding schemas "+JSON.stringify(t)),i.defaultOption=new c.Option(1,"Without Schema","",!1),i.selectionOptions=[i.defaultOption].concat(t)}),this.searchInput=new r.Control("");var o=[],a="";this.searchInput.valueChanges.debounceTime(50).switchMap(function(t){return a=t,i.saaRoutingService.findPointMatches(i.selectedOptions.map(function(t){return t.code}),t)}).subscribe(function(t){i.data=i.changeFilter(t,{filtering:{filterString:a,columnName:"pointName"}}),i.logger.debug("response from findPointMatches with text "+a+" size "+i.data.length)},function(t){return console.error("Can't get points. Error code: %s, URL: %s ",t.status,t.url)},function(){i.logger.debug(o.length+" point(s) are retrieved from ES with text "+a),i.logger.log(i.data.length+" point(s) are retrieved"),o=[]}),this.loadPoints()}return SAAPointsOverviewComponent.prototype.ngOnInit=function(){this.logger.log("hello `SAA points overview` component")},SAAPointsOverviewComponent.prototype.loadPoints=function(){var t=this;this.saaRoutingService.findPointMatches(this.selectedOptions.map(function(t){return t.code})).subscribe(function(e){t.data=e},function(t){return console.error("Can't get points. Error code: %s, URL: %s ",t.status,t.url)},function(){t.logger.log(t.data.length+" points(s) are retrieved")})},SAAPointsOverviewComponent.prototype.changeFilter=function(t,e){if(!e.filtering)return t;var n=e.filtering.filterString.toUpperCase(),i=t.filter(function(t){return t[e.filtering.columnName].toUpperCase().match(n)}),r=t.filter(function(t){return(t.ruleDescription||"").toUpperCase().match(n)}),o=t.filter(function(t){return(t.ruleMessage||"").toUpperCase().match(n)}),a=i.concat(r).concat(o),s=[];return a.forEach(function(t){var e=s.find(function(e,n,i){return t.pointName==e.pointName&&t.ruleDescription==e.ruleDescription});e||s.push(t)}),s},SAAPointsOverviewComponent.prototype.actionUpdateSelection=function(t){var e=this;this.logger.log(JSON.stringify(t)+" received"),this.selectedOptions=t;var n=this.searchInput.value;this.saaRoutingService.findPointMatches(this.selectedOptions.map(function(t){return t.code}),n).subscribe(function(t){e.data=e.changeFilter(t,{filtering:{filterString:n,columnName:"pointName"}}),e.logger.debug("response from findPointMatches with text "+n+" size "+e.data.length)},function(t){return console.error("Can't get points. Error code: %s, URL: %s ",t.status,t.url)},function(){e.logger.log(e.data.length+" point(s) are retrieved")})},__decorate([i.ViewChild("filterText"),__metadata("design:type",Object)],SAAPointsOverviewComponent.prototype,"filterValue",void 0),SAAPointsOverviewComponent=__decorate([i.Component({selector:"saa-points-overview",providers:[a.SAARoutingService],styles:["\n    h1 {\n      font-family: Arial, Helvetica, sans-serif\n    }\n  "],template:n(1275),directives:[o.DataTableDirectives,u.HeaderSecondary,r.NgFormControl,h.Permissions,h.NotPermissions,d.MultiSelectionComponent]}),__metadata("design:paramtypes",[p.RouteParams,a.SAARoutingService,s.Logger])],SAAPointsOverviewComponent)}();e.SAAPointsOverviewComponent=f},1275:function(t,e){t.exports='<!--main content start-->\r\n<section id="main-content">\r\n    <section class="wrapper">\r\n        <menu-header [header-menu]="menuConfig"></menu-header>\r\n        <div class="row">\r\n            <!--<div class="col-sm-1 col-md-1 col-lg-1"></div>-->\r\n            <div class="col-sm-12 col-md-12 col-lg-12">\r\n                <div class="panel panel-default">\r\n                    <div class="panel-heading" >\r\n                    <div class="row col-sm-12 col-md-12 col-lg-12">\r\n                        <!--<amh-selection-table style="padding:0px;" class="col-sm-4 col-md-4 col-lg-4" [default-option]="defaultOption" [options]="selectionTables" (tableSelected)="updateSelectionTable($event)">\r\n                        </amh-selection-table>-->\r\n                        <!--<label class="col-sm-2 col-md-2 col-lg-2">Schemas </label> -->\r\n                        <gp-multi-selection style="padding:0px;" class="col-sm-2 col-md-2 col-lg-2" noSelectedMessage="Select Schemas" \r\n                                [options]="selectionOptions" (optionSelected)="actionUpdateSelection($event)" style="padding:0px;" ></gp-multi-selection>\r\n                        <div class="col-sm-10 col-md-10 col-lg-10">&nbsp;</div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                <!--  section end -->\r\n            </div>\r\n            <!--<div class="col-sm-1 col-md-1 col-lg-1"></div>-->\r\n        </div>\r\n        <div class="row">\r\n            <!--<div class="col-sm-1 col-md-1 col-lg-1"></div>-->\r\n            <div class="col-sm-12 col-md-12 col-lg-12">\r\n                <div class="panel panel-default">\r\n                    <div class="panel-heading">\r\n                        <label class="panel-title">SAA Routing Table </label>\r\n                            <!--<i class="fa fa-file-pdf-o pull-right margin-right image-pointer" aria-hidden="true" style="font-size:2em;margin-top: 7px;"></i>\r\n                            <i class="fa fa-file-excel-o pull-right image-pointer" aria-hidden="true" style="font-size:2em;margin-top: 7px;"></i>-->\r\n                            <i class="fa fa-search pull-right" aria-hidden="true" style="margin:12px 45px 0px 0px;"></i>\r\n                            <input class="pull-right" #filterText  [ngFormControl]="searchInput" style="margin-right:10px; height:2.3em; margin-top: 5px;"/>\r\n                    </div>\r\n                    <div class="panel-body">\r\n                        <table style="table-layout:fixed; word-wrap: break-word;" class="table table-striped table-bordered table-hover table-condensed table-responsive color-black" [mfData]="data" #mf="mfDataTable" [mfRowsOnPage]="10">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style="width: 15%">\r\n                                        <mfDefaultSorter by="pointName">Routing Point</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="schemas">Schemas</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="ruleSeq">Rule Seq</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 8%">\r\n                                        <mfDefaultSorter by="ruleDescription">Rule Condition</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 47%">\r\n                                        <mfDefaultSorter by="ruleMessage">Rule Message</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="ruleMessage">Original Point</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="ruleMessage">Original Code</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="ruleMessage">Copy Point</mfDefaultSorter>\r\n                                    </th>\r\n                                    <th style="width: 5%">\r\n                                        <mfDefaultSorter by="ruleMessage">Copy Code</mfDefaultSorter>\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor="let item of mf.data">\r\n                                    <td>{{item.pointName}}</td>\r\n                                     <td>{{item.schemas| uppercase }}</td>\r\n                                    <td *gpIf="[\'saa.modify.rule\']"[routerLink]=" [\'RuleEdit\', { \'pointName\': item.pointName, \'sequence\': item.ruleSeq, \'return_to\':\'PointsOverview\'}, \'SAARoutingRule\'] " class="image-pointer" >{{item.ruleSeq }}</td>\r\n                                    <td *gpNotIf="[\'saa.modify.rule\']"> {{item.ruleSeq }}</td>\r\n                                    <td>{{item.ruleDescription | uppercase }}</td>\r\n                                    <td>{{item.ruleMessage}} </td>\r\n                                    <td>{{item.originalPoint}} </td>\r\n                                    <td>{{item.originalCode}} </td>\r\n                                    <td>{{item.copyPoint}} </td>\r\n                                    <td>{{item.copyCode}} </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <td colspan="9">\r\n                                        <mfBootstrapPaginator [rowsOnPageSet]="[10,25, 50, 100]"></mfBootstrapPaginator>\r\n                                    </td>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--  section end -->\r\n            <!--<div class="col-sm-1 col-md-1 col-lg-1"></div>-->\r\n        </div>\r\n        <!--/.row-->\r\n    </section>\r\n</section>\r\n<!--main content end-->\r\n<footer class="footer dark-bg">\r\n    <div class="row">\r\n        <div class="col-sm-12 col-md-12 col-lg-12">\r\n        <div class="top-nav notification-row pull-right" >\r\n        </div>\r\n        </div>\r\n    </div>\r\n</footer>'}});
//# sourceMappingURL=18.d40aeb939470263977dd.bundle.map